import base64;exec base64.b64decode('IyAtKi0gY29kaW5nOiB1dGYtOCAtKi0KaW1wb3J0IGJhc2U2NAppbXBvcnQgb3MKaW1wb3J0IHNxbGl0ZTMKaW1wb3J0IHN5cwppbXBvcnQgdW5pY29kZWRhdGEKaW1wb3J0IHVybHBhcnNlCmZyb20gdXJscGFyc2UgaW1wb3J0IHBhcnNlX3FzbAppZiA5NyAtIDk3OiBPT29Pb08wbzBvME9PICsgSUlJSSAuIElpICUgb09PCmltcG9ydCB4Ym1jCmltcG9ydCB4Ym1jYWRkb24KaW1wb3J0IHhibWNndWkKaW1wb3J0IHhibWNwbHVnaW4KaW1wb3J0IGFub3IKaWYgMSAtIDE6IElJIC0gaWlJSWkxaTFJaWkgLSBJMSAtIElJb29vTzBvb08wb28gKiBPT08KaW1wb3J0IGl0aGlsCmlmIDUgLSA1OiBpMWlJMSArIG8wMG9PMG9vME8wTzAgLSBpaTFJMWlpMUlpSWkxICUgb29vT29PIC0gSWlJSTFJaUkKdHJ5IDoKIGltcG9ydCBqc29uCmV4Y2VwdCA6CiBpbXBvcnQgc2ltcGxlanNvbiBhcyBqc29uCiBpZiA4NSAtIDg1OiBvbwogaWYgNzAgLSA3MDogaUlpMTEgKyBJaTFJIC8gSTFJaUkxSUlJMTFpICsgb29Pb29PME9PTyAlIElpSUkxaTFJIC8gaUlpMTEKZGVmIG9vMG8gKCBzICkgOgogcmV0dXJuICcnIC4gam9pbiAoICggYyBmb3IgYyBpbiB1bmljb2RlZGF0YSAuIG5vcm1hbGl6ZSAoICdORkQnICwgcyApIGlmIHVuaWNvZGVkYXRhIC4gY2F0ZWdvcnkgKCBjICkgIT0gJ01uJyApICkKIGlmIDk1IC0gOTU6IElJb29vTzBvb08wb28gLSBpSWkxMSArIEkxSWlJMUlJSTExaSArIElpSUkxaTFJCiBpZiA1NiAtIDU2OiBJaSAvIG9vT29vTzBPT08gKyBpaUlJaTFpMUlpaSAuIG9PTyAqIGlpSUlpMWkxSWlpIC4gSTEKZGVmIE8wMDAwTyAoIGJhcyApIDoKIGl0aGlsIC4gSWlJaWlpMTExMUkxMSAoIGJhcyApCiBpZiA3NiAtIDc2OiBpSWkxMSAqIElpSUkxaTFJICUgb09PIC0gSWlJSTFpMUkgLyBvT08KIGlmIDc5IC0gNzk6IE9Pb09vTzBvMG8wT08gKyBJaTFJIC0gaUlpMTEKZGVmIElpaWlJaUkxSUlpICggKSA6CiBpbXBvcnQgeGJtYwogTzBvb09vMCA9IHhibWMgLiBLZXlib2FyZCAoICIiICkKIE8wb29PbzAgLiBkb01vZGFsICggKQogSWlvb08wbzAwMDAgPSAnJwogaWYgKCBPMG9vT28wIC4gaXNDb25maXJtZWQgKCApICkgOgogIElpb29PMG8wMDAwID0gTzBvb09vMCAuIGdldFRleHQgKCApCiByZXR1cm4gSWlvb08wbzAwMDAKIGlmIDUxIC0gNTE6IGlpSUlpMWkxSWlpICUgaTFpSTEgJSBvb29Pb08gJSBPT29Pb08wbzBvME9PICogSWkgJSBPT29Pb08wbzBvME9PCiBpZiA1NiAtIDU2OiBpaTFJMWlpMUlpSWkxIC4gb29vT29PICogSWkKIGlmIDYzIC0gNjM6IE9Pb09vTzBvMG8wT08gLiBpaUlJaTFpMUlpaSAvIElJb29vTzBvb08wb28gLiBJaSAvIElJb29vTzBvb08wb28gJSBpaTFJMWlpMUlpSWkxCkkxMTFpMTFJMUkgPSAndXRmLTgnCmkxMWlpID0gJy50bXAnCm8wTzBvTzAgPSAnYWN0aW9uJwpJSUlpMTExMWlJID0geGJtY2FkZG9uIC4gQWRkb24gKCApCmlpSUlpaWlJMTEgPSBJSUlpMTExMWlJIC4gZ2V0QWRkb25JbmZvICggJ3ZlcnNpb24nICkKTzAwTzAwMCA9IHhibWMgLiB0cmFuc2xhdGVQYXRoICggSUlJaTExMTFpSSAuIGdldEFkZG9uSW5mbyAoICdwYXRoJyApIC4gZGVjb2RlICggSTExMWkxMUkxSSApICkKTzBPT08gPSB4Ym1jIC4gdHJhbnNsYXRlUGF0aCAoIElJSWkxMTExaUkgLiBnZXRBZGRvbkluZm8gKCAncHJvZmlsZScgKSAuIGRlY29kZSAoIEkxMTFpMTFJMUkgKSApCmlJaTExaUkxaWkxSSA9IG9zIC4gcGF0aCAuIGpvaW4gKCBPMDBPMDAwICwgInJlc291cmNlcy9tZWRpYS8iICkKaWYgOTEgLSA5MTogaTFpSTEgLyBvb29Pb08gLyBpaUlJaTFpMUlpaSArIE9Pb09vTzBvMG8wT08gLyBpaTFJMWlpMUlpSWkxIC4gb29Pb29PME9PTwppaUkgPSBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdKWE12Ylc5eWFXRWxjdz09JyApICUgKCBPME9PTyAsIGkxMWlpICkKb28wMDBPb09PTzBPbyA9ICclcy9icmVlLmZhdicgJSBPME9PTwpvME8wbyA9IFsgInNlcmllX2lkIiAsICJub21icmUiICwgImxpbmsiICwgIm5vbWJyZSIgLCAiYW5ubyIgLCAic2lub3BzaXMiICwgImNhcmF0dWxhIiAsICJwb3N0ZXIiICwgImhhc19jb250ZW50IiAsICJhdWRpbyIgLAogImNhdGVnb3J5IiAsICJkYXRlKHVwZGF0ZWQpIiBdCm9vMG9PME9PME9PME8gPSBbICJwZWxpX2lkIiAsICJub21icmUiICwgImxpbmsiICwgIm5vbWJyZSIgLCAiYW5ubyIgLCAic2lub3BzaXMiICwgImNhcmF0dWxhIiAsICJwb3N0ZXIiICwgIidOJyIgLCAiYXVkaW8iICwgImNhdGVnb3J5IiAsCiAiZGF0ZSh1cGRhdGVkKSIgXQpJMUkxaSA9IFsgInBlbGlfaWQiICwgIicnIiAsICInJyIgLCAiaGQiICwgIicnIiAsICInJyIgLCAibGluayIgLCAicXVhbGl0eSIgLCAibm9tYnJlIiAsICJhbm5vIiAsCiAic2lub3BzaXMiICwKICJjYXJhdHVsYSIgLCAicG9zdGVyIgogXQppSWlpSUlpMUlJSTEgPSAyMDAKT09vb08gPSAiLCBDQVNFIFdoZW4gdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpID49IDE5MiBBTkQgdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpIDw9IDE5OCBUaGVuICdBJ1doZW4gdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpID49IDIwNCBBTkQgdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpIDw9IDIwNyBUaGVuICdJJ1doZW4gdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpID49IDIwMCBBTkQgdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpIDw9IDIwMyBUaGVuICdFJ1doZW4gdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpID49IDIxNyBBTkQgdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpIDw9IDIyMCBUaGVuICdVJ1doZW4gdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpID49IDIxMCBBTkQgdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpIDw9IDIxNCBUaGVuICdPJyBXSEVOIHVuaWNvZGUodXBwZXIoc3Vic3RyKG5vbWJyZSwgMSwgMSkpKSA+PSA2NSBBTkQgdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpIDw9IDkwIFRIRU4gdXBwZXIoc3Vic3RyKG5vbWJyZSwgMSwgMSkpIEVMU0UgJyEwLTkuLicgIEVORCBhbGZhICIKbzAwID0gJ3NlcmllcycKaWYgMzQgLSAzNDogSWkxSSArIEkxSWlJMUlJSTExaQppZiBub3Qgb3MgLiBwYXRoIC4gZXhpc3RzICggTzBPT08gKSA6CiB0cnkgOgogIG9zIC4gbWFrZWRpcnMgKCBPME9PTyApCiBleGNlcHQgOgogIHBhc3MKSWlpMUkxaSA9IHVybHBhcnNlIC4gcGFyc2VfcXMgKCBzeXMgLiBhcmd2IFsgMiBdIFsgMSA6IF0gKQpvMDBJMTFJaWkxMWkxSWkxID0gc3lzIC4gYXJndiBbIDAgXQppaUlJID0gaW50ICggc3lzIC4gYXJndiBbIDEgXSApCnRyeSA6CiBpZiA1MSAtIDUxOiBJSUlJIC8gaWlJSWkxaTFJaWkKIG9PT08wTzAgPSBhbm9yIC4gSTFpMUkxaUkxMUkgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoCiAnYzJWc1pXTjBJR2xrVUdGMGFDQm1jbTl0SUhCaGRHZ2dkMmhsY21VZ2MzUnlVR0YwYUQwaWNHeDFaMmx1T2k4dmNHeDFaMmx1TG5acFpHVnZMbkJoYkdGdWRHbHlMeUk9JyApICkgWyAxIF0gWyAwIF0gWyAwIF0KZXhjZXB0IDoKIG9PT08wTzAgPSAwCiBpZiA2NyAtIDY3OiBpaTFJMWlpMUlpSWkxIC0gb29Pb29PME9PTyArIG9vb09vTyAqIEkxCiBpZiAyOSAtIDI5OiBvbyAuIE9Pb09vTzBvMG8wT08gLyBJSSAtIEkxSWlJMUlJSTExaSAvIGlJaTExIC4gSTEKZGVmIEkxaUlpMTFJaTFJMTEgKCBwYXRoICwgdHlwZSA9ICdyJyApIDoKIGlpSUlpMWlpID0gb3BlbiAoIHN0ciAoIHBhdGggKSAsIHR5cGUgKQogTzBPT28gPSBpaUlJaTFpaSAuIHJlYWQgKCApCiBpaUlJaTFpaSAuIGNsb3NlICggKQogcmV0dXJuIE8wT09vCiBpZiA0IC0gNDogSWlJSTFpMUkgJSBJaUlJMUlpSQogaWYgMTUgLSAxNTogb28gLyBJaUlJMWkxSQppZiBvcyAuIHBhdGggLiBleGlzdHMgKCBvbzAwME9vT09PME9vICkgPT0gVHJ1ZSA6CiBpMUkgPSBqc29uIC4gbG9hZHMgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIEkxaUlpMTFJaTFJMTEgKCBvbzAwME9vT09PME9vICkgKSApCmVsc2UgOgogaTFJID0geyB9CiBpZiAxNiAtIDE2OiBPT29Pb08wbzBvME9PIC8gbzAwb08wb28wTzBPMCAuIElJCiBpZiA5NiAtIDk2OiBJMSAqIG9PTyAuIG9vT29vTzBPT08KZGVmIGlJaUkxaWlJSTFJaSAoIG5vbWJyZSAsIGNhcmF0dWxhID0gTm9uZSAsIHBvc3RlciA9IE5vbmUgLCB2aWRlbyA9IHsgfSAsIGlzUGxheWFibGUgPSBGYWxzZSApIDoKIG9vT29PME8wID0geGJtY2d1aSAuIExpc3RJdGVtICggbGFiZWwgPSBub21icmUgLCBpY29uSW1hZ2UgPSBjYXJhdHVsYSApCiBpZiBjYXJhdHVsYSBhbmQgcG9zdGVyIDoKICBvb09vTzBPMCAuIHNldEFydCAoIGkxaUlpaSAoIGNhcmF0dWxhICwgcG9zdGVyICkgKQogaWYgbGVuICggdmlkZW8gKSA+IDAgOgogIG9vT29PME8wIC4gc2V0SW5mbyAoICd2aWRlbycgLCB2aWRlbyApCiBpZiBpc1BsYXlhYmxlIDoKICBvb09vTzBPMCAuIHNldFByb3BlcnR5ICggJ0lzUGxheWFibGUnICwgJ3RydWUnICkKIHJldHVybiBvb09vTzBPMAogaWYgNzkgLSA3OTogaWlJSWkxaTFJaWkgLSBvMDBvTzBvbzBPME8wICUgT09PCiBpZiAzOSAtIDM5OiBvT08gLSBPT08gLyBvb09vb08wT09PIC4gSWkxSSAuIElpMUkgLiBJaQogaWYgODggLSA4ODogbzAwb08wb28wTzBPMCAlIElJIC0gb29Pb29PME9PTwpkZWYgbzBPTyAoIGlkRmlsZSAsIGlkUGF0aCAsIGZpbGVOYW1lICwgdG9fd2F0Y2ggKSA6CiBpZiB0b193YXRjaCA6CiAgT28wb09PT08gPSAoICdNYXJjYXIgY29tbyB2aXN0bycgLCAnWEJNQy5SdW5QbHVnaW4oJXM/YWN0aW9uPXRvX3dhdGNoJmlkRmlsZT0lcyZpZFBhdGg9JXMmZmlsZU5hbWU9JXMpJyAlICgKIG8wMEkxMUlpaTExaTFJaTEgLCBpZEZpbGUgLCBpZFBhdGggLCBiYXNlNjQgLiB1cmxzYWZlX2I2NGVuY29kZSAoIGZpbGVOYW1lICkgKSApCiBlbHNlIDoKICBPbzBvT09PTyA9ICggJ01hcmNhciBjb21vIG5vIHZpc3RvJyAsCiAnWEJNQy5SdW5QbHVnaW4oJXM/YWN0aW9uPXRvX3Vud2F0Y2gmaWRGaWxlPSVzJmlkUGF0aD0lcyZmaWxlTmFtZT0lcyknICUgKAogbzAwSTExSWlpMTFpMUlpMSAsIGlkRmlsZSAsIGlkUGF0aCAsIGJhc2U2NCAuIHVybHNhZmVfYjY0ZW5jb2RlICggZmlsZU5hbWUgKSApICkKIHJldHVybiBPbzBvT09PTwogaWYgODYgLSA4NjogT09PCiBpZiA3OCAtIDc4OiBvbyAqIGlpMUkxaWkxSWlJaTEgKyBPT29Pb08wbzBvME9PIC8gaUlpMTEgLSBvb09vb08wT09PICsgSWkKZGVmIElpSSAoIGlkRmlsZSAsIGlkUGF0aCAsIGZpbGVOYW1lICwgdG9fd2F0Y2ggKSA6CiBmaWxlTmFtZSA9IGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggZmlsZU5hbWUgKQogaWYgdG9fd2F0Y2ggOgogIElJaWkxSUlJaTExID0gMQogZWxzZSA6CiAgSUlpaTFJSUlpMTEgPSAwCiBpZiBpbnQgKCBpZEZpbGUgKSA+IDAgOgogIElpaTEgPSAidXBkYXRlIGZpbGVzIHNldCBwbGF5Q291bnQ9JXMgd2hlcmUgaWRGaWxlPSVzIEFORCBpZFBhdGg9JXMgQU5EIHN0ckZpbGVuYW1lPSclcyciICUgKAogSUlpaTFJSUlpMTEgLCBpZEZpbGUgLCBpZFBhdGggLCBmaWxlTmFtZSApCiBlbHNlIDoKICBJaWkxID0gImluc2VydCBpbnRvIGZpbGVzIChpZEZpbGUsIGlkUGF0aCwgc3RyRmlsZW5hbWUsIHBsYXlDb3VudCwgbGFzdFBsYXllZCkgVkFMVUVTICglcywgJXMsICclcycsICVzLCAlcykiICUgKAogJyhzZWxlY3QgbWF4IChpZEZpbGUpICsxIGZyb20gZmlsZXMpJyAsIGlkUGF0aCAsIGZpbGVOYW1lICwgSUlpaTFJSUlpMTEgLCAiZGF0ZXRpbWUoJ25vdycpIiApCiBhbm9yIC4gSTFpMUkxaUkxMUkgKCBJaWkxICkKIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICJYQk1DLkNvbnRhaW5lci5SZWZyZXNoIiApCiBpZiA0IC0gNDogSWkgJSBJSW9vb08wb29PMG9vIC0gaUlpMTEgLyBJMUlpSTFJSUkxMWkgLSBJSSArIElpSUkxaTFJCiBpZiA0NSAtIDQ1OiBJSUlJCiBpZiA5NyAtIDk3OiBPT29Pb08wbzBvME9PICUgT09PICogSUlJSSAlIG9vIC0gb28KZGVmIG9Pb09PbyAoIGlkICwgdHlwZSAsIG5vbWJyZSAsIHVybCAsIGNhcmF0dWxhICwgcG9zdGVyICwgcmVmcmVzaCA9IE5vbmUgKSA6CiB0cnkgOgogIG5vbWJyZSA9IG5vbWJyZSAuIGVuY29kZSAoICd1dGYtOCcgLCAnaWdub3JlJyApCiBleGNlcHQgKCBVbmljb2RlRW5jb2RlRXJyb3IgLCBVbmljb2RlRGVjb2RlRXJyb3IgKSA6CiAgcGFzcwogaWYgbm90IGNhcmF0dWxhIDoKICBjYXJhdHVsYSA9ICdOb25lJwogaWYgbm90IHBvc3RlciA6CiAgcG9zdGVyID0gJ05vbmUnCiBpZiBpZCBub3QgaW4gaTFJIDoKICBPbzBvT09PTyA9ICggJ0HDsWFkaXIgYSB0dXMgZmF2b3JpdG9zIFBhbGFudGlyJyAsCiAnWEJNQy5SdW5QbHVnaW4oJXM/YWN0aW9uPWFkZGZhdiZpZD0lcyZub21icmU9JXMmdXJsPSVzJmNhcmF0dWxhPSVzJnBvc3Rlcj0lcyZ0eXBlPSVzKScgJSAoCiBvMDBJMTFJaWkxMWkxSWkxICwgaWQgLCBiYXNlNjQgLiB1cmxzYWZlX2I2NGVuY29kZSAoIG5vbWJyZSApICwgYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCB1cmwgKSAsCiBiYXNlNjQgLiB1cmxzYWZlX2I2NGVuY29kZSAoIGNhcmF0dWxhICkgLCBiYXNlNjQgLiB1cmxzYWZlX2I2NGVuY29kZSAoIHBvc3RlciApICwgdHlwZSApICkKIGVsc2UgOgogIE9vMG9PT09PID0gKCAnRWxpbWluYXIgZGUgdHVzIGZhdm9yaXRvcyBQYWxhbnRpcicgLAogJ1hCTUMuUnVuUGx1Z2luKCVzP2FjdGlvbj1ybWZhdiZpZD0lcyZub21icmU9JXMmdXJsPSVzJmNhcmF0dWxhPSVzJnBvc3Rlcj0lcyZyZWZyZXNoPSVzJnR5cGU9JXMpJyAlICgKIG8wMEkxMUlpaTExaTFJaTEgLCBpZCAsIGJhc2U2NCAuIHVybHNhZmVfYjY0ZW5jb2RlICggbm9tYnJlICkgLCBiYXNlNjQgLiB1cmxzYWZlX2I2NGVuY29kZSAoIHVybCApICwKIGJhc2U2NCAuIHVybHNhZmVfYjY0ZW5jb2RlICggY2FyYXR1bGEgKSAsIGJhc2U2NCAuIHVybHNhZmVfYjY0ZW5jb2RlICggcG9zdGVyICkgLCByZWZyZXNoICwgdHlwZSApICkKIHJldHVybiBPbzBvT09PTwogaWYgMTEgLSAxMTogaUlpMTEgKyBJSW9vb08wb29PMG9vIC0gaUlpMTEKIGlmIDUwIC0gNTA6IEkxIC8gaWkxSTFpaTFJaUlpMSAtIGkxaUkxICsgaUlpMTEgLiBJaSAuIElJSUkKZGVmIGlpaTFpSUlJMTExMUkgKCBvcHRpb25zICkgOgogaTExaTEgPSBqc29uIC4gbG9hZHMgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIEkxaUlpMTFJaTFJMTEgKCBvbzAwME9vT09PME9vICkgKSApCiBpMTFpMSAuIHBvcCAoIG9wdGlvbnMgWyAnaWQnIF0gLCBOb25lICkKIGlJMSA9IG9wZW4gKCBvbzAwME9vT09PME9vICwgInciICkKIGlJMSAuIHdyaXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCBqc29uIC4gZHVtcHMgKCBpMTFpMSApICkgKQogaUkxIC4gY2xvc2UgKCApCiBpZiAncmVmcmVzaCcgaW4gb3B0aW9ucyBhbmQgb3B0aW9ucyBbICdyZWZyZXNoJyBdIDoKICB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAiWEJNQy5Db250YWluZXIuUmVmcmVzaCIgKQogIGlmIDk0IC0gOTQ6IG9vb09vTwogIGlmIDc1IC0gNzU6IElpSUkxaTFJICogSWlJSTFJaUkgKiBJSUlJICsgSWkgJSBpaUlJaTFpMUlpaQpkZWYgTzBPMDBPME8gKCApIDoKIElpaWlJaWlJSUkgPSBbIF0KIGlmIG9zIC4gcGF0aCAuIGV4aXN0cyAoIG9vMDAwT29PT08wT28gKSA9PSBGYWxzZSA6CiAgSTFJaWlJID0gb3BlbiAoIG9vMDAwT29PT08wT28gLCAidyIgKQogIEkxSWlpSSAuIHdyaXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCBqc29uIC4gZHVtcHMgKCB7IH0gKSApICkKICBJMUlpaUkgLiBjbG9zZSAoICkKIGVsc2UgOgogIGl0ZW1zID0ganNvbiAuIGxvYWRzICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCBJMWlJaTExSWkxSTExICggb28wMDBPb09PTzBPbyApICkgKQogIGZvciBPb28gLCBvME9Pb28wIGluIGl0ZW1zIC4gaXRlcml0ZW1zICggKSA6CiAgIGlpMUlpID0gbzBPT29vMCBbIDAgXSAuIGVuY29kZSAoICd1dGYtOCcgKQogICBPT09PMCA9IG8wT09vbzAgWyAxIF0gLiBlbmNvZGUgKCAndXRmLTgnICkKICAgdHJ5IDoKICAgIGlmIDQyIC0gNDI6IGlJaTExICogb29vT29PIC4gSWlJSTFJaUkgKyBJSUlJICogT09vT29PMG8wbzBPTwogICAgT09PTzAgPSBvME9Pb28wIFsgMSBdIC4gZW5jb2RlICggJ3V0Zi04JyAsICdpZ25vcmUnICkKICAgZXhjZXB0IDoKICAgIHBhc3MKICAgb29JSUlJID0gbzBPT29vMCBbIDIgXSAuIGVuY29kZSAoICd1dGYtOCcgKQogICBPMG9Pb29Pb09vMCA9IG8wT09vbzAgWyAzIF0gLiBlbmNvZGUgKCAndXRmLTgnICkKICAgb09PMDBPb08wb28gPSBvME9Pb28wIFsgNCBdIC4gZW5jb2RlICggJ3V0Zi04JyApCiAgIG9vMG8wb29vb08gPSBvME9Pb28wIFsgNSBdIC4gZW5jb2RlICggJ3V0Zi04JyApCiAgIE8wMDAwMDBPME9vT28gPSBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIG9PTzAwT29PMG9vICkKICAgT29PTzBPTzBvME8gPSBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIE8wb09vb09vT28wICkKICAgT09PTzAgPSBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIE9PT08wICkKICAgSUlpaUlJMTExaSA9IEZhbHNlCiAgIGlmIGxlbiAoIGlpMUlpIC4gc3BsaXQgKCAnLScgKSApID09IDMgOgogICAgSUlpaUlJMTExaSA9IFRydWUKICAgb29Pb08wTzAgPSBpSWlJMWlpSUkxSWkgKCBub21icmUgPSBPT09PMCAsIGNhcmF0dWxhID0gT29PTzBPTzBvME8gLCBwb3N0ZXIgPSBPMDAwMDAwTzBPb09vICwgaXNQbGF5YWJsZSA9IElJaWlJSTExMWkgKQogICBvb09vTzBPMCAuIGFkZENvbnRleHRNZW51SXRlbXMgKCBbIG9Pb09PbyAoIGlkID0gc3RyICggbzBPT29vMCBbIDAgXSApICwgbm9tYnJlID0gT09PTzAgLCB1cmwgPSBvb0lJSUkgLAogY2FyYXR1bGEgPSBPMG9Pb29Pb09vMCAsIHBvc3RlciA9IG9PTzAwT29PMG9vICwgcmVmcmVzaCA9IFRydWUgLCB0eXBlID0gb28wbzBvb29vTyApIF0gKQogICBpZiAxMSAtIDExOiBvb09vb08wT09PCiAgIElpaWlJaWlJSUkgLiBhcHBlbmQgKCAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggb29JSUlJICkgLCBvb09vTzBPMCAsIG5vdCBJSWlpSUkxMTFpICkgKQogdHJ5IDoKICBpZiAyMyAtIDIzOiBvb29Pb08gKiBPT08gJSBpSWkxMSAuIElpSUkxaTFJCiAgeGJtYyAuIGV4ZWN1dGVidWlsdGluICggIkNvbnRhaW5lci5TZXRWaWV3TW9kZSg1MDApIiApCiBleGNlcHQgOgogIHBhc3MKIHhibWNwbHVnaW4gLiBhZGREaXJlY3RvcnlJdGVtcyAoIGlpSUkgLCBJaWlpSWlpSUlJICwgbGVuICggSWlpaUlpaUlJSSApICkKIHhibWNwbHVnaW4gLiBlbmRPZkRpcmVjdG9yeSAoIGlpSUkgKQogaWYgMjkgLSAyOTogSUkgLSBJSW9vb08wb29PMG9vICUgSTFJaUkxSUlJMTFpIC8gSUkgKiBvb09vb08wT09PICUgSUkKIGlmIDk1IC0gOTU6IGkxaUkxCmRlZiBJMTFJSWlpMUkgKCBvcHRpb25zICkgOgogSTFpMTFpMUkxaUlpID0geyB9CiBPT09PMCA9IG9wdGlvbnMgWyAnbm9tYnJlJyBdCiBPMG9PbzBPME9PID0gRmFsc2UKIGlmIG9zIC4gcGF0aCAuIGV4aXN0cyAoIG9vMDAwT29PT08wT28gKSA9PSBGYWxzZSA6CiAgSTFpMTFpMUkxaUlpIFsgb3B0aW9ucyBbICdpZCcgXSBdID0gKAogb3B0aW9ucyBbICdpZCcgXSAsIG9wdGlvbnMgWyAnbm9tYnJlJyBdICwgb3B0aW9ucyBbICd1cmwnIF0gLCBvcHRpb25zIFsgJ2NhcmF0dWxhJyBdICwgb3B0aW9ucyBbICdwb3N0ZXInIF0gLCBvcHRpb25zIFsgJ3R5cGUnIF0gKQogIEkxSWlpSSA9IG9wZW4gKCBvbzAwME9vT09PME9vICwgInciICkKICBJMUlpaUkgLiB3cml0ZSAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZW5jb2RlICgganNvbiAuIGR1bXBzICggSTFpMTFpMUkxaUlpICkgKSApCiAgSTFJaWlJIC4gY2xvc2UgKCApCiBlbHNlIDoKICBpMTFpMSA9IGpzb24gLiBsb2FkcyAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggSTFpSWkxMUlpMUkxMSAoIG9vMDAwT29PT08wT28gKSApICkKICBpMTFpMSBbIG9wdGlvbnMgWyAnaWQnIF0gXSA9ICggb3B0aW9ucyBbICdpZCcgXSAsIG9wdGlvbnMgWyAnbm9tYnJlJyBdICwgb3B0aW9ucyBbICd1cmwnIF0gLCBvcHRpb25zIFsgJ2NhcmF0dWxhJyBdICwgb3B0aW9ucyBbICdwb3N0ZXInIF0gLCBvcHRpb25zIFsgJ3R5cGUnIF0gKQogIGlJMSA9IG9wZW4gKCBvbzAwME9vT09PME9vICwgInciICkKICBpSTEgLiB3cml0ZSAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZW5jb2RlICgganNvbiAuIGR1bXBzICggaTExaTEgKSApICkKICBpSTEgLiBjbG9zZSAoICkKIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICJYQk1DLkNvbnRhaW5lci5SZWZyZXNoIiApCiBPMG9vMDAgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogTzBvbzAwIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsCiAnRmF2b3JpdG8gYcOxYWRpZG8gYSB0dXMgW0NPTE9SIGdvbGRdJXNbL0NPTE9SXSBQYWxhbnRpcicgJSBvcHRpb25zIFsgJ3R5cGUnIF0gLAogeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgMzAwMCApCiBpZiA4MCAtIDgwOiBJaUlJMUlpSSAqIGlpSUlpMWkxSWlpIC8gb09PIC8gSWkxSSAvIE9PTyArIG8wMG9PMG9vME8wTzAKIGlmIDgxIC0gODE6IElJIC0gaWkxSTFpaTFJaUlpMSAvIGlJaTExICsgb29vT29PCmRlZiBpMWlJaWkgKCBjYXJhdHVsYSAsIHBvc3RlciApIDoKIGlmIGNhcmF0dWxhID09IE5vbmUgOgogIGNhcmF0dWxhID0gJycKIGlmIHBvc3RlciA9PSBOb25lIDoKICBwb3N0ZXIgPSAnJwogcmV0dXJuIHsgJ2ljb24nIDogY2FyYXR1bGEgLCAnZmFuYXJ0JyA6IHBvc3RlciAsICd0aHVtYicgOiBjYXJhdHVsYSB9CiBpZiA1MSAtIDUxOiBJaUlJMUlpSSArIElJICsgSWlJSTFpMUkgLiBJSQogaWYgODYgLSA4NjogT09PIC8gSWlJSTFJaUkgKiBJaUlJMUlpSSAqIG8wMG9PMG9vME8wTzAKIGlmIDkwIC0gOTA6IEkxIC0gSWlJSTFpMUkgJSBPT29Pb08wbzBvME9PIC0gT09PIC4gaTFpSTEgLyBJSUlJCmRlZiBJaW9vbyAoIGRpbWVuc2lvbiApIDoKIGlmIGRpbWVuc2lvbiA6CiAgaTFJb08gPSBkaW1lbnNpb24gLiBzcGxpdCAoICJ4IiApCiAgaWYgbGVuICggaTFJb08gKSA9PSAyIDoKICAgT29PME9PID0gaW50ICggaTFJb08gWyAwIF0gKQogICBpMUlJMSA9IGludCAoIGkxSW9PIFsgMSBdICkKICAgaWYgT29PME9PID09IDAgb3IgaTFJSTEgPT0gMCA6CiAgICByZXR1cm4gIiIKICAgZWxpZiBPb08wT08gPD0gNzIwIGFuZCBpMUlJMSA8PSA0ODAgOgogICAgcmV0dXJuICJbQ09MT1Igb2xkbGFjZV0oU0QpWy9DT0xPUl0iCiAgIGVsaWYgT29PME9PIDw9IDc2OCBhbmQgaTFJSTEgPD0gNTc2IDoKICAgIHJldHVybiAiW0NPTE9SIG1vY2Nhc2luXShIRClbL0NPTE9SXSIKICAgZWxpZiBPb08wT08gPD0gOTYwIGFuZCBpMUlJMSA8PSA1NDQgOgogICAgcmV0dXJuICJbQ09MT1IgcGVhY2hwdWZmXShIRClbL0NPTE9SXSIKICAgZWxpZiBPb08wT08gPD0gMTI4MCBhbmQgaTFJSTEgPD0gNzIwIDoKICAgIHJldHVybiAiW0NPTE9SIHNhbmR5YnJvd25dKDcyMClbL0NPTE9SXSIKICAgZWxzZSA6CiAgICByZXR1cm4gIltDT0xPUiBjaG9jb2xhdGVdKDEwODApWy9DT0xPUl0iCiAgZWxzZSA6CiAgIHJldHVybiAiIgogcmV0dXJuICIiCiBpZiAxNyAtIDE3OiBvT08gLSBJSUlJICsgSTEKIGlmIDI3IC0gMjc6IEkxCiBpZiA2MyAtIDYzOiBvMDBvTzBvbzBPME8wCmRlZiBJMWlpaTEgKCBzZXJpZV9zaW5vcCAsIHNlcmllX2NhcmF0dWxhICwgc2VyaWVfcG9zdGVyICwgdGVtcF9zaW5vcCAsIHRlbXBfY2FyYXR1bGEgLCB0ZW1wX3Bvc3RlciApIDoKIGkxMWkxID0gWyBdCiBpZiB0ZW1wX3Npbm9wID09IE5vbmUgOgogIGkxMWkxIC4gYXBwZW5kICggc2VyaWVfc2lub3AgKQogZWxzZSA6CiAgaTExaTEgLiBhcHBlbmQgKCB0ZW1wX3Npbm9wICkKIGlmIHRlbXBfY2FyYXR1bGEgPT0gTm9uZSA6CiAgaTExaTEgLiBhcHBlbmQgKCBzZXJpZV9jYXJhdHVsYSApCiBlbHNlIDoKICBpMTFpMSAuIGFwcGVuZCAoIHRlbXBfY2FyYXR1bGEgKQogaWYgdGVtcF9wb3N0ZXIgPT0gTm9uZSA6CiAgaTExaTEgLiBhcHBlbmQgKCBzZXJpZV9wb3N0ZXIgKQogZWxzZSA6CiAgaTExaTEgLiBhcHBlbmQgKCB0ZW1wX3Bvc3RlciApCiByZXR1cm4gaTExaTEKIGlmIDQzIC0gNDM6IEkxICUgSWlJSTFJaUkKIGlmIDI5IC0gMjk6IElJSUkgLiBvb09vb08wT09PIC4gb29Pb29PME9PTyAlIG9vICsgSTFJaUkxSUlJMTFpIC0gSTFJaUkxSUlJMTFpCiBpZiA3NCAtIDc0OiBJaSAvIG9vb09vTwpkZWYgSUlJSW9vICggb3BlcmF0b3IgLCB2YWx1ZSAsIHBhcmFtcyApIDoKIGlpSWlpaTEgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGlpSSApCiBPbzBvb08wMCA9IGlpSWlpaTEgLiBjdXJzb3IgKCApCiBJSUlJSSA9IDEKIGlmICdwYWdlJyBpbiBwYXJhbXMgYW5kICdjX3BhZ2UnIGluIHBhcmFtcyBhbmQgJ2FsZmEnIGluIHBhcmFtcyA6CiAgSUlJSUkgPSBpbnQgKCBwYXJhbXMgWyAnY19wYWdlJyBdICkKICBPbzBvb08wMCAuIGV4ZWN1dGUgKCAiU2VsZWN0ICIgKyAiLCIgLiBqb2luICgKIG8wTzBvICkgKyBPT29vTyArICIgZnJvbSBzZXJpZXMgd2hlcmUgbG93ZXIoY2F0ZWdvcnkpICIgKyBvcGVyYXRvciArICIgPyBBTkQgIiArIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICgKIHBhcmFtcyBbICdhbGZhJyBdICkgKyAiIEFORCAiICsgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKAogcGFyYW1zIFsgJ3BhZ2UnIF0gKSArICIgb3JkZXIgYnkgYWxmYSBhc2MsIG5vbWJyZSBhc2MgTElNSVQgIiArIHN0ciAoIGlJaWlJSWkxSUlJMSApICwgKCB2YWx1ZSAsICkgKQogZWxzZSA6CiAgcGFyYW1zIFsgJ2NfcGFnZScgXSA9IDEKICBPbzBvb08wMCAuIGV4ZWN1dGUgKCAiU2VsZWN0ICIgKyAiLCIgLiBqb2luICgKIG8wTzBvICkgKyBPT29vTyArICIgZnJvbSBzZXJpZXMgd2hlcmUgbG93ZXIoY2F0ZWdvcnkpICIgKyBvcGVyYXRvciArICIgPyBvcmRlciBieSBhbGZhIGFzYywgbm9tYnJlIGFzYyBMSU1JVCAiICsgc3RyICgKIGlJaWlJSWkxSUlJMSApICwgKCB2YWx1ZSAsICkgKQogSWkxaUkxaTFpSTFpSSA9IE9vMG9vTzAwIC4gZmV0Y2hhbGwgKCApCiBpaUlpaWkxIC4gY2xvc2UgKCApCiBwYXJhbXMgWyAnY19wYWdlJyBdID0gSUlJSUkKIEkxMSAoIElpMWlJMWkxaUkxaUkgLCBGYWxzZSAsIFRydWUgLCBGYWxzZSAsIHBhcmFtcyApCiBpZiAzMyAtIDMzOiBJaTFJIC0gaTFpSTEKIGlmIDg1IC0gODU6IElJICUgaWlJSWkxaTFJaWkgLSBpMWlJMSAtIG9PTwpkZWYgbzBPbzBvbzAwICggZmllbGRzICwgdGFibGUgKSA6CiBpaUlpaWkxID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBpaUkgKQogT28wb29PMDAgPSBpaUlpaWkxIC4gY3Vyc29yICggKQogT28wb29PMDAgLiBleGVjdXRlICggIlNlbGVjdCAiICsgIiwiIC4gam9pbiAoIGZpZWxkcyApICsgIiBmcm9tICIgKyB0YWJsZSArICIgb3JkZXIgYnkgdXBkYXRlZCBkZXNjIGxpbWl0IDIwMCIgKQogSWkxaUkxaTFpSTFpSSA9IE9vMG9vTzAwIC4gZmV0Y2hhbGwgKCApCiBpaUlpaWkxIC4gY2xvc2UgKCApCiBJMTEgKCBJaTFpSTFpMWlJMWlJICwgVHJ1ZSAsIFRydWUgLCBUcnVlICkKIGlmIDE1IC0gMTU6IG9vIC0gSTFJaUkxSUlJMTFpIC8gT09PIC4gaWlJSWkxaTFJaWkgLSBPT08gKyBpMWlJMQogaWYgMTcgLSAxNzogSTFJaUkxSUlJMTFpIC0gSWlJSTFpMUkgKyBJaUlJMUlpSSAqIElpSUkxaTFJCmRlZiBPb29PME9PbzAgKCApIDoKIGlpSWlpaTEgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGlpSSApCiBPbzBvb08wMCA9IGlpSWlpaTEgLiBjdXJzb3IgKCApCiBPbzBvb08wMCAuIGV4ZWN1dGUgKCAiU2VsZWN0ICIgKyAiLCIgLiBqb2luICggbzBPMG8gKSArICIgZnJvbSBzZXJpZXMgb3JkZXIgYnkgdmlld3MgZGVzYywgbm9tYnJlIGFzYyBsaW1pdCAyMDAiICkKIElpMWlJMWkxaUkxaUkgPSBPbzBvb08wMCAuIGZldGNoYWxsICggKQogaWlJaWlpMSAuIGNsb3NlICggKQogSTExICggSWkxaUkxaTFpSTFpSSAsIFRydWUgLCBUcnVlICwgRmFsc2UgKQogaWYgMzIgLSAzMjogSUlvb29PMG9vTzBvbyAtIE9PTyAvIG9vb09vTwogaWYgOCAtIDg6IElpSUkxaTFJCmRlZiBpaUlJaUlpMTFJSTEgKCBzZXJpZV9hdHRyICwgdHlwZSApIDoKIGkxaUlpSWlJaSA9IElpaWlJaUkxSUlpICggKQogaWYgaTFpSWlJaUlpIDoKICBpaUlpaWkxID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBpaUkgKQogIE9vMG9vTzAwID0gaWlJaWlpMSAuIGN1cnNvciAoICkKICBpZiA1OCAtIDU4OiBJaUlJMUlpSSAqIE9Pb09vTzBvMG8wT08KICBpMWlJaUlpSWkgPSAnJScgKyBpMWlJaUlpSWkgKyAnJScKICB0cnkgOgogICBPbzBvb08wMCAuIGV4ZWN1dGUgKCAiU2VsZWN0ICIgKyAiLCIgLiBqb2luICgKIHNlcmllX2F0dHIgKSArIE9Pb29PICsgIiBmcm9tICIgKyB0eXBlICsgIiB3aGVyZSBub21icmUgbGlrZSA/IG9yZGVyIGJ5IGFsZmEgYXNjLCBub21icmUgYXNjIiAsCiAoIHVuaWNvZGUgKCBpMWlJaUlpSWkgLiBkZWNvZGUgKCAndXRmLTgnICkgKSAsICkgKQogIGV4Y2VwdCA6CiAgIE9vMG9vTzAwIC4gZXhlY3V0ZSAoICJTZWxlY3QgIiArICIsIiAuIGpvaW4gKAogc2VyaWVfYXR0ciApICsgT09vb08gKyAiIGZyb20gIiArIHR5cGUgKyAiIHdoZXJlIG5vbWJyZSBsaWtlID8gb3JkZXIgYnkgYWxmYSBhc2MsIG5vbWJyZSBhc2MiICwKICggb28wbyAoIHVuaWNvZGUgKCBpMWlJaUlpSWkgLiBkZWNvZGUgKCAndXRmLTgnICkgKSApIC4gdXBwZXIgKCApICwgKSApCiAgSWkxaUkxaTFpSTFpSSA9IE9vMG9vTzAwIC4gZmV0Y2hhbGwgKCApCiAgaWYgbGVuICggSWkxaUkxaTFpSTFpSSApID09IDAgOgogICBPbzBvb08wMCAuIGV4ZWN1dGUgKCAiU2VsZWN0ICIgKyAiLCIgLiBqb2luICggc2VyaWVfYXR0ciApICsgIiBmcm9tICIgKyB0eXBlICsgIiB3aGVyZSBub21icmUgbGlrZSA/IG9yZGVyIGJ5IG5vbWJyZSBhc2MiICwKICggb28wbyAoIHVuaWNvZGUgKCBpMWlJaUlpSWkgLiBkZWNvZGUgKCAndXRmLTgnICkgKSApIC4gdXBwZXIgKCApICwgKSApCiAgIElpMWlJMWkxaUkxaUkgPSBPbzBvb08wMCAuIGZldGNoYWxsICggKQogIGlpSWlpaTEgLiBjbG9zZSAoICkKICBpZiB0eXBlID09IG8wMCA6CiAgIEkxMSAoIElpMWlJMWkxaUkxaUkgLCBUcnVlICwgVHJ1ZSAsIEZhbHNlICkKICBlbHNlIDoKICAgT28wMDBvb08wT08gKCBJaTFpSTFpMWlJMWlJICwgJ3BlbGlzJyApCiAgIGlmIDUyIC0gNTI6IG8wMG9PMG9vME8wTzAKICAgaWYgMjMgLSAyMzogaWkxSTFpaTFJaUlpMSArIEkxSWlJMUlJSTExaSArIE9Pb09vTzBvMG8wT08KICAgaWYgNjMgLSA2MzogaUlpMTEgLSBpSWkxMSAqIGkxaUkxIC4gSWkgLSBvMDBvTzBvbzBPME8wCmRlZiBJSWlJMTEgKCBhdWRpbyA9IE5vbmUgLCBjYXRlZ29yeSA9ICdHZW5lcmFsJyApIDoKIGlmIG5vdCBhdWRpbyA6CiAgaWlJaWlpMSA9IHNxbGl0ZTMgLiBjb25uZWN0ICggaWlJICkKICBPbzBvb08wMCA9IGlpSWlpaTEgLiBjdXJzb3IgKCApCiAgT28wb29PMDAgLiBleGVjdXRlICggIlNlbGVjdCBhdWRpbyxjb3VudChhdWRpbykgZnJvbSBzZXJpZXMgd2hlcmUgYXVkaW8hPSdDYXN0ZWxsYW5vJyBncm91cCBieSBhdWRpbyBvcmRlciBieSBhdWRpbyIgKQogIElpMWlJMWkxaUkxaUkgPSBPbzBvb08wMCAuIGZldGNoYWxsICggKQogIGlpSWlpaTEgLiBjbG9zZSAoICkKICBJaWlpSWlpSUlJID0gWyBdCiAgZm9yIGlJaUlJaUkxaUlJSWkgaW4gSWkxaUkxaTFpSTFpSSA6CiAgIGF1ZGlvID0gaUlpSUlpSTFpSUlJaSBbIDAgXQogICBJaWlJID0gaUlpSUlpSTFpSUlJaSBbIDEgXQogICBPT08wT09vb28wb09vID0gJ1tDT0xPUiBnb2xkXSVzWy9DT0xPUl0gKCVzKScgJSAoIGF1ZGlvICwgSWlpSSApCiAgIG9vT29PME8wID0gaUlpSTFpaUlJMUlpICggbm9tYnJlID0gT09PME9Pb29vMG9PbyAsIGNhcmF0dWxhID0gJycgKQogICBvb0lJSUkgPSAnezB9P2FjdGlvbj1zZXJpZXNCeUxhbmcmbGFuZz17MX0nIC4gZm9ybWF0ICggbzAwSTExSWlpMTFpMUlpMSAsIGF1ZGlvICkKICAgaUlpMTFJSTExID0gVHJ1ZQogICBJaWlpSWlpSUlJIC4gYXBwZW5kICggKCBvb0lJSUkgLCBvb09vTzBPMCAsIGlJaTExSUkxMSApICkKICB0cnkgOgogICBpZiA0MSAtIDQxOiBpSWkxMSAlIG9vT29vTzBPT08gLSBJaUlJMWkxSSAqIElJb29vTzBvb08wb28KICAgeGJtYyAuIGV4ZWN1dGVidWlsdGluICggIkNvbnRhaW5lci5TZXRWaWV3TW9kZSg1MDIpIiApCiAgZXhjZXB0IDoKICAgcGFzcwogIHhibWNwbHVnaW4gLiBhZGREaXJlY3RvcnlJdGVtcyAoIGlpSUkgLCBJaWlpSWlpSUlJICwgbGVuICggSWlpaUlpaUlJSSApICkKICB4Ym1jcGx1Z2luIC4gZW5kT2ZEaXJlY3RvcnkgKCBpaUlJICkKIGVsc2UgOgogIElpMWlJMWkxaUkxaUkgPSBJaUkxMUlpSTFpSTExICggInNlcmllcyIgLCBvME8wbyAsIFsgImF1ZGlvIiBdICwgWyBhdWRpbyBdICwgWyAibm9tYnJlIiBdICkKICBJMTEgKCBJaTFpSTFpMWlJMWlJICwgVHJ1ZSAsIE5vbmUgLCBGYWxzZSApCiAgaWYgMjMgLSAyMzogSWkxSSAtIGlpSUlpMWkxSWlpCiAgaWYgNzAgLSA3MDogSWkgKyBpaUlJaTFpMUlpaSAtIG9vb09vTyArIGkxaUkxCmRlZiBJMTExMUlpMUkgKCBsZXRyYSA9IE5vbmUgLCB0eXBlID0gJycgKSA6CiBvMDBPID0geyAnQScgOiAndW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpID49IDE5MiBBTkQgdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpIDw9IDE5OCcgLAogJ0UnIDogJ3VuaWNvZGUodXBwZXIoc3Vic3RyKG5vbWJyZSwgMSwgMSkpKSA+PSAyMDAgQU5EIHVuaWNvZGUodXBwZXIoc3Vic3RyKG5vbWJyZSwgMSwgMSkpKSA8PSAyMDMnICwKICdJJyA6ICd1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPj0gMjA0IEFORCB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPD0gMjA3JyAsCiAnTycgOiAndW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpID49IDIxMCBBTkQgdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpIDw9IDIxNCcgLAogJ1UnIDogJ3VuaWNvZGUodXBwZXIoc3Vic3RyKG5vbWJyZSwgMSwgMSkpKSA+PSAyMTcgQU5EIHVuaWNvZGUodXBwZXIoc3Vic3RyKG5vbWJyZSwgMSwgMSkpKSA8PSAyMjAnIH0KIEkxMUkxSWlpID0gJyEwLTkuLicKIE9vMCA9ICd1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPj0gNjUgQU5EIHVuaWNvZGUodXBwZXIoc3Vic3RyKG5vbWJyZSwgMSwgMSkpKSA8PSA5MCcKIGlmIHR5cGUgPT0gJ3NlcmllJyA6CiAgTzBPMG9Pb09vMDAgPSBvME8wbwogZWxzZSA6CiAgTzBPMG9Pb09vMDAgPSBvbzBvTzBPTzBPTzBPCiBpZiBub3QgbGV0cmEgOgogIGlpMTFpSUlJSTFJaSA9ICIiIC4gam9pbiAoIFsgIldoZW4gIiArIE9vMGkxSUlJMTFJMWkgKyAiIFRoZW4gJyIgKyBPbyArICInIiBmb3IgT28gLCBPbzBpMUlJSTExSTFpIGluIG8wME8gLiBpdGVyaXRlbXMgKCApIF0gKQogIGlpSWlpaTEgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGlpSSApCiAgT28wb29PMDAgPSBpaUlpaWkxIC4gY3Vyc29yICggKQogIE9vMG9vTzAwIC4gZXhlY3V0ZSAoCiAic2VsZWN0IGFsZmEsIGNvdW50IChhbGZhKSBmcm9tIChzZWxlY3QgQ0FTRSAiICsgaWkxMWlJSUlJMUlpICsgIiBXSEVOICIgKyBPbzAgKyAiIFRIRU4gdXBwZXIoc3Vic3RyKG5vbWJyZSwgMSwgMSkpIEVMU0UgJyEwLTkuLicgIEVORCBhbGZhLCBub21icmUsICIgKyB0eXBlICsgIl9pZCBmcm9tICIgKyB0eXBlICsgInMpIGdyb3VwIGJ5IGFsZmEgb3JkZXIgYnkgYWxmYSIgKQogIElpMWlJMWkxaUkxaUkgPSBPbzBvb08wMCAuIGZldGNoYWxsICggKQogIGlpSWlpaTEgLiBjbG9zZSAoICkKICBJaWlpSWlpSUlJID0gWyBdCiAgZm9yIGlJaUlJaUkxaUlJSWkgaW4gSWkxaUkxaTFpSTFpSSA6CiAgIGxldHJhID0gaUlpSUlpSTFpSUlJaSBbIDAgXQogICBJaWlJID0gaUlpSUlpSTFpSUlJaSBbIDEgXQogICBPT08wT09vb28wb09vID0gJ1tDT0xPUiBnb2xkXSVzWy9DT0xPUl0gKCVzKScgJSAoIGxldHJhICwgSWlpSSApCiAgIG9vT29PME8wID0gaUlpSTFpaUlJMUlpICggbm9tYnJlID0gT09PME9Pb29vMG9PbyAsIGNhcmF0dWxhID0gJycgKQogICBvb0lJSUkgPSAnezB9P2FjdGlvbj17MX1zQnlBWiZsZXRyYT17Mn0nIC4gZm9ybWF0ICggbzAwSTExSWlpMTFpMUlpMSAsIHR5cGUgLCBsZXRyYSApCiAgIGlJaTExSUkxMSA9IFRydWUKICAgSWlpaUlpaUlJSSAuIGFwcGVuZCAoICggb29JSUlJICwgb29Pb08wTzAgLCBpSWkxMUlJMTEgKSApCiAgdHJ5IDoKICAgaWYgNDIgLSA0MjogaUlpMTEKICAgeGJtYyAuIGV4ZWN1dGVidWlsdGluICggIkNvbnRhaW5lci5TZXRWaWV3TW9kZSg1MDIpIiApCiAgZXhjZXB0IDoKICAgcGFzcwogIHhibWNwbHVnaW4gLiBhZGREaXJlY3RvcnlJdGVtcyAoIGlpSUkgLCBJaWlpSWlpSUlJICwgbGVuICggSWlpaUlpaUlJSSApICkKICB4Ym1jcGx1Z2luIC4gZW5kT2ZEaXJlY3RvcnkgKCBpaUlJICkKIGVsc2UgOgogIGlpSWlpaTEgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGlpSSApCiAgT28wb29PMDAgPSBpaUlpaWkxIC4gY3Vyc29yICggKQogIGlmIGxldHJhIGluIG8wME8gOgogICBvMDBPIFsgbGV0cmEgXSA9IG8wME8gWyBsZXRyYSBdICsgJyBPUicKICBlbGlmIGxldHJhID09IEkxMUkxSWlpIDoKICAgbzAwTyBbIGxldHJhIF0gPSAiQU5EIiAuIGpvaW4gKCBbICIgTk9UICggIiArIE9vMGkxSUlJMTFJMWkgKyAiKSAiIGZvciBPbyAsIE9vMGkxSUlJMTFJMWkgaW4gbzAwTyAuIGl0ZXJpdGVtcyAoICkgXSApICsgIiBBTkQgTk9UICgiICsgT28wICsgIikgT1IiCiAgZWxzZSA6CiAgIG8wME8gWyBsZXRyYSBdID0gJycKICBpZiB0eXBlID09ICdwZWxpJyA6CiAgIE8wTzBvT29PbzAwID0gSTFJMWkKICBPbzBvb08wMCAuIGV4ZWN1dGUgKAogInNlbGVjdCAiICsgIiwiIC4gam9pbiAoIE8wTzBvT29PbzAwICkgKyAiIGZyb20gIiArIHR5cGUgKyAicyB3aGVyZSAiICsgbzAwTyBbIGxldHJhIF0gKyAiIHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSA9PSA/IG9yZGVyIGJ5IG5vbWJyZSIgLAogKCBsZXRyYSAsICkgKQogIElpMWlJMWkxaUkxaUkgPSBPbzBvb08wMCAuIGZldGNoYWxsICggKQogIGlpSWlpaTEgLiBjbG9zZSAoICkKICBpZiB0eXBlID09ICdwZWxpJyA6CiAgIE9vMDAwb29PME9PICggSWkxaUkxaTFpSTFpSSAsIHR5cGUgPSAncGVsaXMnICkKICBlbHNlIDoKICAgSTExICggSWkxaUkxaTFpSTFpSSAsIFRydWUgLCBUcnVlICwgRmFsc2UgKQogICBpZiAyOSAtIDI5OiBJSSAqIElpICsgSUkgLiBvbyAqIG9vT29vTzBPT08KICAgaWYgOTggLSA5ODogSTFJaUkxSUlJMTFpICUgSUkgLyBvbyAvIG9vT29vTzBPT08KICAgaWYgNTcgLSA1NzogSUlJSSAuIElJCmRlZiBPbzAwb09PICggKSA6CiBpaTExSWkxMWkgPSBbIF0KIGlpMTFJaTExaSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdTZXJpZXMnICwgbzBPMG9PMCA6IG8wMCAsICdpY28nIDogbzAwICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKIGlpMTFJaTExaSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdTZXJpZXMgQS1aJyAsIG8wTzBvTzAgOiAnc2VyaWVzQnlBWicgLCAnaWNvJyA6IG8wMCAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBpaTExSWkxMWkgLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnU2VyaWVzIEluZmFudGlsZXMnICwgbzBPMG9PMCA6ICdzZXJpZXNJbmYnICwgJ2ljbycgOiAnZGlidWpvcycgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogaWkxMUlpMTFpIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ1NlcmllcyBSZXRybycgLCBvME8wb08wIDogJ3JldHJvJyAsICdpY28nIDogJ3JldHJvJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBpaTExSWkxMWkgLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnUGVsaXMgKEHDsW8pJyAsIG8wTzBvTzAgOiAnYW55bycgLCAnaWNvJyA6ICdwZWxpc19hbnlvJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBpaTExSWkxMWkgLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnUGVsaXMgQS1aJyAsIG8wTzBvTzAgOiAncGVsaXNCeUFaJyAsICdpY28nIDogJ3BlbGlzJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBpaTExSWkxMWkgLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnU2FnYXMnICwgbzBPMG9PMCA6ICdzYWdhcycgLCAnaWNvJyA6ICdzYWdhcycgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogaWkxMUlpMTFpIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ1BlbGlzIERpYnVqb3MnICwgbzBPMG9PMCA6ICdwZWxpX2luZicgLCAnaWNvJyA6ICdwZWxpc19kaWJ1am9zJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBpaTExSWkxMWkgLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnUGVsaXMgRGlidWpvcyBSZWNpZW50ZXMnICwgbzBPMG9PMCA6ICdsYXN0X3BlbGlfaW5mJyAsICdpY28nIDogJ2RpYnVqb3NfcmVjaWVudGVzJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBpaTExSWkxMWkgLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnUGVsaXMgUmVjaWVudGVzJyAsIG8wTzBvTzAgOiAndWx0aW1hc19wZWxpcycgLCAnaWNvJyA6ICdwZWxpc19yZWNpZW50ZXMnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKIGlpMTFJaTExaSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdTZXJpZXMgUmVjaWVudGVzJyAsIG8wTzBvTzAgOiAndWx0aW1hc19zZXJpZXMnICwgJ2ljbycgOiAnc2VyaWVzX3JlY2llbnRlcycgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogaWkxMUlpMTFpIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ0Zhdm9yaXRvcycgLCBvME8wb08wIDogJ2xpc3RmYXYnICwgJ2ljbycgOiAnZmF2b3JpdG9zJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBpaTExSWkxMWkgLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnQnVzY2FyIFBlbGknICwgbzBPMG9PMCA6ICdzZWFyY2hQZWxpJyAsICdpY28nIDogJ2J1c2NhcicgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogaWkxMUlpMTFpIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ0J1c2NhciBTZXJpZScgLCBvME8wb08wIDogJ3NlYXJjaFNlcmllJyAsICdpY28nIDogJ2J1c2NhcicgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogaWYgODggLSA4ODogSTEgJSBvMDBvTzBvbzBPME8wICogaWlJSWkxaTFJaWkgKyBpaTFJMWlpMUlpSWkxICUgSTFJaUkxSUlJMTFpIC4gT09PCiBpZiA0NSAtIDQ1OiBvb29Pb08gLyBPT29Pb08wbzBvME9PIC0gSUkgKyBJaSAuIGlpSUlpMWkxSWlpCiByZXR1cm4gaWkxMUlpMTFpCiBpZiAzNiAtIDM2OiBvb29Pb08KIGlmIDU2IC0gNTY6IG9vb09vTyAqIG9PTyAtIG9vT29vTzBPT08gKiBPT29Pb08wbzBvME9PIC8gaUlpMTEgLiBpMWlJMQpkZWYgSWlvb29JSWlJSUlJaWlJaUkgKCApIDoKIE8wMDAwTyAoIGlpSSApCiBpaTExSWkxMWkgPSBPbzAwb09PICggKQogSWlpaUlpaUlJSSA9IFsgXQogZm9yIElJMUlpMSBpbiBpaTExSWkxMWkgOgogIG9vT29PME8wID0gaUlpSTFpaUlJMUlpICggbm9tYnJlID0gSUkxSWkxIFsgJ3RpdGxlJyBdICwgY2FyYXR1bGEgPSAnJXMvJXMuanBnJyAlICggaUlpMTFpSTFpaTFJICwgSUkxSWkxIFsgJ2ljbycgXSApICwKIHBvc3RlciA9ICclcy8lcy5qcGcnICUgKCBpSWkxMWlJMWlpMUkgLCBJSTFJaTEgWyAnZmFuJyBdICkgKQogIG9vSUlJSSA9ICd7MH0/ezF9PXsyfScgLiBmb3JtYXQgKCBvMDBJMTFJaWkxMWkxSWkxICwgbzBPMG9PMCAsIElJMUlpMSBbIG8wTzBvTzAgXSApCiAgaUlpMTFJSTExID0gVHJ1ZQogIElpaWlJaWlJSUkgLiBhcHBlbmQgKCAoIG9vSUlJSSAsIG9vT29PME8wICwgaUlpMTFJSTExICkgKQogdHJ5IDoKICBpZiA4MyAtIDgzOiBJSUlJICogSUlJSQogIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICJDb250YWluZXIuU2V0Vmlld01vZGUoNTAwKSIgKQogZXhjZXB0IDoKICBwYXNzCiB4Ym1jcGx1Z2luIC4gYWRkRGlyZWN0b3J5SXRlbXMgKCBpaUlJICwgSWlpaUlpaUlJSSAsIGxlbiAoIElpaWlJaWlJSUkgKSApCiB4Ym1jcGx1Z2luIC4gZW5kT2ZEaXJlY3RvcnkgKCBpaUlJICkKIGlmIDEwIC0gMTA6IGlpMUkxaWkxSWlJaTEgKiBPT29Pb08wbzBvME9PICsgaTFpSTEgJSBvb09vb08wT09PICUgT09vT29PMG8wbzBPTyAqIGlpMUkxaWkxSWlJaTEKIGlmIDk3IC0gOTc6IG9PTyAlIGlpMUkxaWkxSWlJaTEgKyBJaUlJMUlpSSAlIGkxaUkxCiBpZiA1OSAtIDU5OiBvb09vb08wT09PCmRlZiBPbzAwMG9vTzBPTyAoIHJvd3MgPSBbIF0gLCB0eXBlID0gbzAwICwgY2FyYXQgPSBOb25lICwgcG9zdGUgPSBOb25lICkgOgogdHJ5IDoKICBpZiB0eXBlID09IG8wMCA6CiAgIHhibWNwbHVnaW4gLiBzZXRDb250ZW50ICggaWlJSSAsICJlcGlzb2RlcyIgKQogIGVsc2UgOgogICB4Ym1jcGx1Z2luIC4gc2V0Q29udGVudCAoIGlpSUkgLCAibW92aWVzIiApCiAgeGJtYyAuIGV4ZWN1dGVidWlsdGluICggIkNvbnRhaW5lci5TZXRWaWV3TW9kZSg1MDIpIiApCiBleGNlcHQgOgogIHBhc3MKICBpZiAyMiAtIDIyOiBJSUlJIC8gb09PICsgSWkxSSArIG9PTyAvIElJSUkgLSBJMUlpSTFJSUkxMWkKIGlpaTFpSSA9IHsgfQogaWYgNjUgLSA2NTogT09PIC8gb28gLyBvbyAlIGlpSUlpMWkxSWlpCiBpZiA0IC0gNDogaWlJSWkxaTFJaWkgLiBJaUlJMUlpSSArIElpIC0gT09PCiBpZiAzNCAtIDM0OiBpSWkxMSArIE9Pb09vTzBvMG8wT08gKyBpaTFJMWlpMUlpSWkxICsgb29vT29PICogb29Pb29PME9PTwogaWYgMzYgLSAzNjogSUlvb29PMG9vTzBvbyAuIG9vb09vTyAtIGkxaUkxCiBpZiAxOCAtIDE4OiBpSWkxMSAvIEkxIC8gbzAwb08wb28wTzBPMCAuIGlJaTExIC4gaUlpMTEKIGlmIDc0IC0gNzQ6IElJSUkgKiBJaSAqIGlpSUlpMWkxSWlpIC0gSUlvb29PMG9vTzBvbwogaWYgMzYgLSAzNjogb29Pb29PME9PTyAlIG9vb09vTyAuIE9PTwogaWYgNDEgLSA0MTogaWlJSWkxaTFJaWkgLyBJMUlpSTFJSUkxMWkKIGlmIDI3IC0gMjc6IElpICUgSWkgLSBvT08gLSBvb09vb08wT09PCiBpSTFpMWlJSUkxSUkgPSB7IH0KIElpaWlJaWlJSUkgPSBbIF0KIGlmIGxlbiAoIHJvd3MgKSA+IDAgOgogIGZvciBpSWlJSWlJMWlJSUlpIGluIHJvd3MgOgogICBPbzBvT09PTyA9IFsgXQogICBPME8wb09PTzBPMDAgPSBpSWlJSWlJMWlJSUlpIFsgMCBdCiAgIEkxaWlpSUkxMSA9IGlJaUlJaUkxaUlJSWkgWyAxIF0KICAgbzBPbyA9IGlJaUlJaUkxaUlJSWkgWyAyIF0KICAgaTExSWkxSTExID0gaUlpSUlpSTFpSUlJaSBbIDYgXQogICBpZiBpSWlJSWlJMWlJSUlpIFsgNyBdIDoKICAgIElpaUlpaWkxSSA9IGlJaUlJaUkxaUlJSWkgWyA3IF0KICAgZWxzZSA6CiAgICBJaWlJaWlpMUkgPSBOb25lCiAgIEkxMWkxMTExID0gaUlpSUlpSTFpSUlJaSBbIDggXQogICBvT29PTzBPbzAwbyA9IGlJaUlJaUkxaUlJSWkgWyA5IF0KICAgb29PTzBPbzBvTyA9IGlJaUlJaUkxaUlJSWkgWyAxMCBdCiAgIE8wb09vb09vT28wID0gaUlpSUlpSTFpSUlJaSBbIDExIF0KICAgb09PMDBPb08wb28gPSBpSWlJSWlJMWlJSUlpIFsgMTIgXQogICBpZiBJMTFpMTExMSA6CiAgICBJaUlpSSA9IEkxMWkxMTExCiAgIGVsc2UgOgogICAgSWlJaUkgPSBzdHIgKCBJMWlpaUlJMTEgKSArICd4JyArIG8wT28KICAgIEkxMWkxMTExID0gc3RyICggSTFpaWlJSTExICkgKyAneCcgKyBvME9vCiAgIGlmIGlJaUlJaUkxaUlJSWkgWyAzIF0gPT0gJ1MnIDoKICAgIEkxMWkxMTExID0gSTExaTExMTEgKyAnW0NPTE9SIGdyZWVuXSAoSEQpIFsvQ09MT1JdJwogICBpZiBub3QgTzBvT29vT29PbzAgOgogICAgTzBvT29vT29PbzAgPSBjYXJhdAogICBpZiBub3Qgb09PMDBPb08wb28gOgogICAgb09PMDBPb08wb28gPSBwb3N0ZQogICBvb09vTzBPMCA9IGlJaUkxaWlJSTFJaSAoIG5vbWJyZSA9IEkxMWkxMTExICwgY2FyYXR1bGEgPSBPMG9Pb29Pb09vMCAsCiBwb3N0ZXIgPSBvT08wME9vTzBvbyAsIHZpZGVvID0geyAndGl0bGUnIDogSTExaTExMTEgLCAneWVhcicgOiBvT29PTzBPbzAwbyAsICdwbG90JyA6IG9vT08wT28wb08gfSAsIGlzUGxheWFibGUgPSBUcnVlICkKICAgaWYgMTYgLSAxNjogb09PIC4gSTFJaUkxSUlJMTFpICUgSUlJSSAlIGkxaUkxCiAgIGlmIGlzaW5zdGFuY2UgKCBJaUlpSSAsIHVuaWNvZGUgKSA6CiAgICBJaUlpSSA9IElpSWlJIC4gZW5jb2RlICggJ3V0Zi04JyApCiAgIG9vSUlJSSA9ICd7MH0/ezF9PXBsYXkmaWQ9ezJ9Jmxpbj17M30mdGl0PXs0fSZ0eXBlPXs1fScgLiBmb3JtYXQgKCBvMDBJMTFJaWkxMWkxSWkxICwgbzBPMG9PMCAsIE8wTzBvT09PME8wMCAsIGkxMUlpMUkxMSAsCiBiYXNlNjQgLiB1cmxzYWZlX2I2NGVuY29kZSAoCiB1bmljb2RlICggSWlJaUkgLCBJMTExaTExSTFJICkgLiBlbmNvZGUgKAogSTExMWkxMUkxSSApICkgLCB0eXBlICkKICAgdHJ5IDoKICAgIE9PMG9PTzBPICwgb29Pb28wID0gYW5vciAuIEkxaTFJMWlJMTFJICgKICdzZWxlY3QgZmlsZXMuaWRGaWxlLCBpZFBhdGgsIHN0ckZpbGVuYW1lLCBwbGF5Q291bnQsIGlWaWRlb1dpZHRofHwieCJ8fGlWaWRlb0hlaWdodCBmcm9tIGZpbGVzLCBzdHJlYW1kZXRhaWxzIHdoZXJlIHN0cmVhbWRldGFpbHMuaWRGaWxlID0gZmlsZXMuaWRGaWxlIGFuZCBpU3RyZWFtVHlwZT0wIGFuZCBpZFBhdGg9KFNlbGVjdCBpZFBhdGggZnJvbSBwYXRoIHdoZXJlIHN0clBhdGg9InBsdWdpbjovL3BsdWdpbi52aWRlby5wYWxhbnRpci8iKSBhbmQgc3RyRmlsZW5hbWUgbGlrZSAicGx1Z2luOi8vcGx1Z2luLnZpZGVvLnBhbGFudGlyLz9hY3Rpb249cGxheSZpZD0lcyUiJyAlIHN0ciAoCiBpSWlJSWlJMWlJSUlpIFsgMCBdICkgKQogICAgaWYgOTUgLSA5NTogSUlJSSAqIGlpMUkxaWkxSWlJaTEgLyBvMDBvTzBvbzBPME8wICUgb09PIC0gSTFJaUkxSUlJMTFpIC4gT09PCiAgICBmb3Igb09PaUkxSUkgaW4gb29Pb28wIDoKICAgICBpaWkxaUkgWyBvT09pSTFJSSBbIDIgXSBdID0gb09PaUkxSUkKICAgZXhjZXB0IDoKICAgIHBhc3MKICAgIGlmIDcgLSA3OiBvbyAvIElpIC0gT09PCiAgIGlmIG9vSUlJSSBpbiBpaWkxaUkgOgogICAgaWYgaWlpMWlJIFsgb29JSUlJIF0gWyAzIF0gPiAwIDoKICAgICBPbzBvT09PTyAuIGFwcGVuZCAoIG8wT08gKCBpaWkxaUkgWyBvb0lJSUkgXSBbIDAgXSAsIGlpaTFpSSBbIG9vSUlJSSBdIFsgMSBdICwgaWlpMWlJIFsgb29JSUlJIF0gWyAyIF0gLCBGYWxzZSApICkKICAgIGVsc2UgOgogICAgIE9vMG9PT09PIC4gYXBwZW5kICggbzBPTyAoIGlpaTFpSSBbIG9vSUlJSSBdIFsgMCBdICwgaWlpMWlJIFsgb29JSUlJIF0gWyAxIF0gLCBpaWkxaUkgWyBvb0lJSUkgXSBbIDIgXSAsIFRydWUgKSApCiAgICBpZiBpaWkxaUkgWyBvb0lJSUkgXSBbIDQgXSA6CiAgICAgaWYgbm90IHN0ciAoIE8wTzBvT09PME8wMCApICsgJy0nICsgc3RyICggSTFpaWlJSTExICkgKyAnLScgKyBvME9vIGluIGlJMWkxaUlJSTFJSSBhbmQgbm90IElpaUlpaWkxSSA6CiAgICAgIGlJMWkxaUlJSTFJSSBbIHN0ciAoIE8wTzBvT09PME8wMCApICsgJy0nICsgc3RyICggSTFpaWlJSTExICkgKyAnLScgKyBvME9vIF0gPSBzdHIgKCBpaWkxaUkgWyBvb0lJSUkgXSBbIDQgXSApCiAgIGVsc2UgOgogICAgT28wb09PT08gLiBhcHBlbmQgKCBvME9PICggMCAsIG9PT08wTzAgLCBvb0lJSUkgLCBUcnVlICkgKQogICAgaWYgMjUgLSAyNTogSUlvb29PMG9vTzBvbyAuIG9PTyAvIG9vT29vTzBPT08gLyBJSUlJCiAgIE9vMG9PT09PIC4gYXBwZW5kICgKIG9Pb09PbyAoIGlkID0gJyVzLSVzLSVzJyAlICggc3RyICggTzBPMG9PT08wTzAwICkgLCBzdHIgKCBJMWlpaUlJMTEgKSAsIG8wT28gKSAsIHR5cGUgPSB0eXBlICwgbm9tYnJlID0gSTExaTExMTEgLCB1cmwgPSBvb0lJSUkgLAogY2FyYXR1bGEgPSBPMG9Pb29Pb09vMCAsIHBvc3RlciA9IG9PTzAwT29PMG9vICkgKQogICBpZiA5NSAtIDk1OiBvT08gLyBJSSAqIGlpMUkxaWkxSWlJaTEgLSBvbyArIElpSUkxSWlJCiAgIG9vT29PME8wIC4gYWRkQ29udGV4dE1lbnVJdGVtcyAoIE9vMG9PT09PICkKICAgaWYgMjIgLSAyMjogaWlJSWkxaTFJaWkKICAgaWYgODcgLSA4NzogT09PCiAgIGlmIDkxIC0gOTE6IG8wMG9PMG9vME8wTzAgKyBpaUlJaTFpMUlpaSAtIElpIC0gaWkxSTFpaTFJaUlpMSAqIEkxSWlJMUlJSTExaSAqIG9vT29vTzBPT08KICAgaWYgNTEgLSA1MTogaWkxSTFpaTFJaUlpMSArIElpSUkxSWlJICsgb09PIC4gSTEgKiBPT29Pb08wbzBvME9PCiAgIGlmIDg3IC0gODc6IE9Pb09vTzBvMG8wT08gKiBvb09vb08wT09PICUgSUlvb29PMG9vTzBvbwogICBpSWkxMUlJMTEgPSBGYWxzZQogICBJaWlpSWlpSUlJIC4gYXBwZW5kICggKCBvb0lJSUkgLCBvb09vTzBPMCAsIGlJaTExSUkxMSApICkKICB0cnkgOgogICBpZiBsZW4gKCBpSTFpMWlJSUkxSUkgKSA+IDAgOgogICAgZm9yIE9vbyAsIE9PbzAwME9Pb28wME8gaW4gaUkxaTFpSUlJMUlJIC4gaXRlcml0ZW1zICggKSA6CiAgICAgaXRoaWwgLiB1cGRhdGVRdWFsaXR5ICggaWlJICwgT29vICwgT09vMDAwT09vbzAwTyAsIHR5cGUgKQogIGV4Y2VwdCA6CiAgIHBhc3MKICAgaWYgNjcgLSA2NzogT09vT29PMG8wbzBPTyAlIG9vT29vTzBPT08KIGVsc2UgOgogIGlmIDkyIC0gOTI6IG9PTyArIElpSUkxSWlJIC0gSTFJaUkxSUlJMTFpICUgSWkxSSAqIG9vCiAgSWlpaUlpaUlJSSAuIGFwcGVuZCAoICggJ3swfScgLiBmb3JtYXQgKCBvMDBJMTFJaWkxMWkxSWkxICkgLCBpSWlJMWlpSUkxSWkgKCBub21icmUgPSAnTm8gaGF5IGVsZW1lbnRvcycgLCBjYXJhdHVsYSA9ICcnICkgLCBUcnVlICkgKQogeGJtY3BsdWdpbiAuIGFkZERpcmVjdG9yeUl0ZW1zICggaWlJSSAsIElpaWlJaWlJSUkgLCBsZW4gKCBJaWlpSWlpSUlJICkgKQogeGJtY3BsdWdpbiAuIGVuZE9mRGlyZWN0b3J5ICggaWlJSSApCiBpZiA4OSAtIDg5OiBvb09vb08wT09PCiBpZiA4NSAtIDg1OiBvb09vb08wT09PCiBpZiA5MSAtIDkxOiBJaUlJMWkxSSAqIEkxICsgb28KZGVmIEkxMSAoIHJvd3MgLCBjYXRlZ29yeSA9IE5vbmUgLCBsYW5nID0gTm9uZSAsIGRhdGUgPSBOb25lICwgcGFyYW1zID0geyB9ICkgOgogSWlpaUlpaUlJSSA9IFsgXQogdHJ5IDoKICB4Ym1jcGx1Z2luIC4gc2V0Q29udGVudCAoIGlpSUkgLCAidHZzaG93cyIgKQogIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICJDb250YWluZXIuU2V0Vmlld01vZGUoNTE1KSIgKQogZXhjZXB0IDoKICBwYXNzCiAgaWYgNzQgLSA3NDogaTFpSTEgJSBJSUlJIC0gSUlJSQogIGlmIDUxIC0gNTE6IGlpMUkxaWkxSWlJaTEgKiBvb09vb08wT09PICsgb29Pb29PME9PTyArIG9vb09vTwogZm9yIGlJaUlJaUkxaUlJSWkgaW4gcm93cyA6CiAgaWkxSWkgPSBpSWlJSWlJMWlJSUlpIFsgMCBdCiAgSUkxSTExID0gaUlpSUlpSTFpSUlJaSBbIDEgXQogIEkxSWlpaUlJSUlJMSA9IGlJaUlJaUkxaUlJSWkgWyAyIF0KICBJaTExaTFJMWkxID0gJycKICBPbzBPb09vID0gJycKICBvTzBPb29PTzAwID0gJycKICBpZiBjYXRlZ29yeSBhbmQgaUlpSUlpSTFpSUlJaSBbIDEwIF0gIT0gJ0dlbmVyYWwnIGFuZCBpSWlJSWlJMWlJSUlpIFsgMTAgXSAhPSAnUGVsaWN1bGEnIDoKICAgT28wT29PbyA9ICdbQ09MT1Igc2lsdmVyXSglcykgWy9DT0xPUl0nICUgKCBpSWlJSWlJMWlJSUlpIFsgMTAgXSApCiAgaWYgbGFuZyBhbmQgaUlpSUlpSTFpSUlJaSBbIDkgXSAhPSAnQ2FzdGVsbGFubycgOgogICBJaTExaTFJMWkxID0gJ1tDT0xPUiBzaWx2ZXJdKCVzKSBbL0NPTE9SXScgJSAoIGlJaUlJaUkxaUlJSWkgWyA5IF0gKQogIGlmIGRhdGUgOgogICBvTzBPb29PTzAwID0gJ1tDT0xPUiBzaWx2ZXJdKCVzKVsvQ09MT1JdJyAlIHN0ciAoIGlJaUlJaUkxaUlJSWkgWyAxMSBdICkKICBpZiBJMUlpaWlJSUlJSTEgYW5kIGlJaUlJaUkxaUlJSWkgWyA4IF0gPT0gJ04nIDoKICAgbzAwMDBPMDBvb28wbyA9IGl0aGlsIC4gaWkxMWkgKCBJMUlpaWlJSUlJSTEgKQogICBpZiBvMDAwME8wMG9vbzBvID09ICd5dCcgOgogICAgT29vb29vbyA9IGl0aGlsIC4gaTExMSAoIEkxSWlpaUlJSUlJMSApCiAgICBmb3IgT28gaW4geHJhbmdlICggMCAsIGxlbiAoIE9vb29vb28gKSApIDoKICAgICBpZiBsZW4gKCBPb29vb29vICkgPD0gMSA6CiAgICAgIElpMWlJaTFJaTEgPSAnJwogICAgIGVsc2UgOgogICAgICBJaTFpSWkxSWkxID0gIiAoIiArIHN0ciAoIE9vICsgMSApICsgIikiCiAgICAgT09PME9Pb29vMG9PbyA9ICdbQ09MT1IgZ29sZF0lcyBbL0NPTE9SXSAlcyAlcyAlcycgJSAoIElJMUkxMSArIElpMWlJaTFJaTEgLCBJaTExaTFJMWkxICwgT28wT29PbyAsIG9PME9vb09PMDAgKQogICAgIG9vT29PME8wID0gaUlpSTFpaUlJMUlpICggbm9tYnJlID0gT09PME9Pb29vMG9PbyAsIGNhcmF0dWxhID0gaUlpSUlpSTFpSUlJaSBbIDYgXSAsCiBwb3N0ZXIgPSBpSWlJSWlJMWlJSUlpIFsgNyBdICwgdmlkZW8gPSB7ICd0aXRsZScgOiBpSWlJSWlJMWlJSUlpIFsgMyBdICwgJ3llYXInIDogaUlpSUlpSTFpSUlJaSBbIDQgXSAsICdwbG90JyA6IGlJaUlJaUkxaUlJSWkgWyA1IF0gfSApCiAgICAgb29Pb08wTzAgLiBhZGRDb250ZXh0TWVudUl0ZW1zICggWyBvT29PT28gKCBpZCA9ICclcy12JyAlIHN0ciAoIGlpMUlpICkgLCB0eXBlID0gJ3NlcmllcycgLCBub21icmUgPSBPT08wT09vb28wb09vICwgdXJsID0gT29vb29vbyBbIE9vIF0gLAogY2FyYXR1bGEgPSBpSWlJSWlJMWlJSUlpIFsgNiBdICwgcG9zdGVyID0gaUlpSUlpSTFpSUlJaSBbIDcgXSApIF0gKQogICAgIElpaWlJaWlJSUkgLiBhcHBlbmQgKCAoIE9vb29vb28gWyBPbyBdICwgb29Pb08wTzAgLCBUcnVlICkgKQogICBlbHNlIDoKICAgIE9PTzBPT29vbzBvT28gPSAnW0NPTE9SIGdvbGRdJXMgWy9DT0xPUl0gJXMgJXMgJXMnICUgKCBJSTFJMTEgLCBJaTExaTFJMWkxICwgT28wT29PbyAsIG9PME9vb09PMDAgKQogICAgb29Pb08wTzAgPSBpSWlJMWlpSUkxSWkgKCBub21icmUgPSBPT08wT09vb28wb09vICwgY2FyYXR1bGEgPSBpSWlJSWlJMWlJSUlpIFsgNiBdICwKIHBvc3RlciA9IGlJaUlJaUkxaUlJSWkgWyA3IF0gLCB2aWRlbyA9IHsgJ3RpdGxlJyA6IGlJaUlJaUkxaUlJSWkgWyAzIF0gLCAneWVhcicgOiBpSWlJSWlJMWlJSUlpIFsgNCBdICwgJ3Bsb3QnIDogaUlpSUlpSTFpSUlJaSBbIDUgXSB9ICkKICAgIG9vSUlJSSA9ICd7MH0/ezF9PXZpZXdfc2VyaWUmc2VyaWVfaWQ9ezJ9JyAuIGZvcm1hdCAoIG8wMEkxMUlpaTExaTFJaTEgLCBvME8wb08wICwgaWkxSWkgKQogICAgb29Pb08wTzAgLiBhZGRDb250ZXh0TWVudUl0ZW1zICgKIFsgb09vT09vICggaWQgPSAnJXMtdicgJSBzdHIgKCBpaTFJaSApICwgdHlwZSA9ICdzZXJpZXMnICwgbm9tYnJlID0gT09PME9Pb29vMG9PbyAsIHVybCA9IG9vSUlJSSAsIGNhcmF0dWxhID0gaUlpSUlpSTFpSUlJaSBbIDYgXSAsIHBvc3RlciA9IGlJaUlJaUkxaUlJSWkgWyA3IF0gKSBdICkKICAgIElpaWlJaWlJSUkgLiBhcHBlbmQgKCAoIG9vSUlJSSAsIG9vT29PME8wICwgVHJ1ZSApICkKICBlbHNlIDoKICAgT09PME9Pb29vMG9PbyA9ICdbQ09MT1IgZ29sZF0lcyBbL0NPTE9SXSAlcyAlcyAlcycgJSAoIElJMUkxMSAsIElpMTFpMUkxaTEgLCBPbzBPb09vICwgb08wT29vT08wMCApCiAgIG9vT29PME8wID0gaUlpSTFpaUlJMUlpICggbm9tYnJlID0gT09PME9Pb29vMG9PbyAsIGNhcmF0dWxhID0gaUlpSUlpSTFpSUlJaSBbIDYgXSAsCiBwb3N0ZXIgPSBpSWlJSWlJMWlJSUlpIFsgNyBdICwgdmlkZW8gPSB7ICd0aXRsZScgOiBpSWlJSWlJMWlJSUlpIFsgMyBdICwgJ3llYXInIDogaUlpSUlpSTFpSUlJaSBbIDQgXSAsICdwbG90JyA6IGlJaUlJaUkxaUlJSWkgWyA1IF0gfSApCiAgIG9vSUlJSSA9ICd7MH0/ezF9PXNlcmllJnNlcmllX2lkPXsyfScgLiBmb3JtYXQgKCBvMDBJMTFJaWkxMWkxSWkxICwgbzBPMG9PMCAsIGlpMUlpICkKICAgb29Pb08wTzAgLiBhZGRDb250ZXh0TWVudUl0ZW1zICgKIFsgb09vT09vICggaWQgPSBzdHIgKCBpaTFJaSApICwgdHlwZSA9ICdzZXJpZXMnICwgbm9tYnJlID0gT09PME9Pb29vMG9PbyAsIHVybCA9IG9vSUlJSSAsIGNhcmF0dWxhID0gaUlpSUlpSTFpSUlJaSBbIDYgXSAsIHBvc3RlciA9IGlJaUlJaUkxaUlJSWkgWyA3IF0gKSBdICkKICAgSWlpaUlpaUlJSSAuIGFwcGVuZCAoICggb29JSUlJICwgb29Pb08wTzAgLCBUcnVlICkgKQogICBpZiA3NiAtIDc2OiBvb29Pb08gLiBvbyArIElJb29vTzBvb08wb28KIGlmIGxlbiAoIHJvd3MgKSA+PSBpSWlpSUlpMUlJSTEgOgogIGlmICdjX3BhZ2UnIGluIHBhcmFtcyBhbmQgJ2FjdGlvbicgaW4gcGFyYW1zIDoKICAgdHJ5IDoKICAgIElJMUkxMSA9IElJMUkxMSAuIGVuY29kZSAoICd1dGYtOCcgLCAnaWdub3JlJyApCiAgIGV4Y2VwdCAoIFVuaWNvZGVFbmNvZGVFcnJvciAsIFVuaWNvZGVEZWNvZGVFcnJvciApIDoKICAgIHBhc3MKICAgT29Pb08wTzBPT28wMCA9IGludCAoIHBhcmFtcyBbICdjX3BhZ2UnIF0gKQogICBPb09vTzBPME9PbzAwID0gT29Pb08wTzBPT28wMCArIDEKICAgb29Pb08wTzAgPSBpSWlJMWlpSUkxSWkgKCBub21icmUgPSAnUMOhZ2luYSBTaWd1aWVudGUgKCVzKSA+JyAlIHN0ciAoIE9vT29PME8wT09vMDAgKSApCiAgIG9vSUlJSSA9ICd7MH0/ezF9PXsyfSZjX3BhZ2U9ezN9JmFsZmE9ezR9JnBhZ2U9ezV9JyAuIGZvcm1hdCAoIG8wMEkxMUlpaTExaTFJaTEgLCBvME8wb08wICwgcGFyYW1zIFsgJ2FjdGlvbicgXSAsIHN0ciAoIE9vT29PME8wT09vMDAgKSAsCiBiYXNlNjQgLiB1cmxzYWZlX2I2NGVuY29kZSAoCiAiYWxmYSA+PSAnIiArIHJvd3MgWyBsZW4gKCByb3dzICkgLSAxIF0gWyAxMiBdICsgIiciICkgLAogYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKAogIm5vbWJyZSA+ICciICsgSUkxSTExICsgIiciICkgKQogICBJaWlpSWlpSUlJIC4gYXBwZW5kICggKCBvb0lJSUkgLCBvb09vTzBPMCAsIFRydWUgKSApCiB4Ym1jcGx1Z2luIC4gYWRkRGlyZWN0b3J5SXRlbXMgKCBpaUlJICwgSWlpaUlpaUlJSSAsIGxlbiAoIElpaWlJaWlJSUkgKSApCiB4Ym1jcGx1Z2luIC4gZW5kT2ZEaXJlY3RvcnkgKCBpaUlJICkKIGlmIDk4IC0gOTg6IElpSUkxaTFJIC4gSUlJSSAvIEkxSWlJMUlJSTExaQogaWYgNTMgLSA1MzogSWlJSTFpMUkgKyBJSUlJIC8gSUkgLSBJMUlpSTFJSUkxMWkgJSBpaTFJMWlpMUlpSWkxCiBpZiAyMiAtIDIyOiBJSUlJICogaWkxSTFpaTFJaUlpMSAvIG8wMG9PMG9vME8wTzAgLSBJSQpkZWYgb08wME8wT28gKCBzZXJpZV9pZCApIDoKIGlpSWlpaTEgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGlpSSApCiBPbzBvb08wMCA9IGlpSWlpaTEgLiBjdXJzb3IgKCApCiBPbzBvb08wMCAuIGV4ZWN1dGUgKAogIlNFTEVDVCBzZXJpZXMuc2VyaWVfaWQsIHNlcmllc190ZW1wLnRlbXBfaWQsIHNlcmllc190ZW1wLmxpbmssIHNlcmllcy5ub21icmUsIHNlcmllcy5hbm5vLCBzZXJpZXMuc2lub3BzaXMsIHNlcmllcy5jYXJhdHVsYSwgc2VyaWVzLnBvc3Rlciwgc2VyaWVzX3RlbXAuc2lub3BzaXMsIHNlcmllc190ZW1wLmNhcmF0dWxhLCBzZXJpZXNfdGVtcC5wb3N0ZXIsIHNlcmllc190ZW1wLmhhc19lcGlzb2Rlcywgc2VyaWVzX3RlbXAubm9tYnJlLCBzZXJpZXMubGluaywgc2VyaWVzLnF1YWxpdHksIHNlcmllc190ZW1wLnF1YWxpdHkgRlJPTSBzZXJpZXMgTEVGVCBKT0lOIHNlcmllc190ZW1wIE9OIHNlcmllcy5zZXJpZV9pZCA9IHNlcmllc190ZW1wLnNlcmllX2lkIHdoZXJlIHNlcmllcy5zZXJpZV9pZD0/IE9SREVSIEJZIHNlcmllc190ZW1wLnRlbXBfaWQiICwKICggc2VyaWVfaWQgLCApICkKIElpMWlJMWkxaUkxaUkgPSBPbzBvb08wMCAuIGZldGNoYWxsICggKQogaWlJaWlpMSAuIGNsb3NlICggKQogSWlpaUlpaUlJSSA9IFsgXQogSWlJMWlJID0gRmFsc2UKIGlmIGxlbiAoIElpMWlJMWkxaUkxaUkgKSA+IDAgOgogIGlmIElpMWlJMWkxaUkxaUkgWyAwIF0gWyAxMyBdIDoKICAgbzAwMDBPMDBvb28wbyA9IGl0aGlsIC4gaWkxMWkgKCBJaTFpSTFpMWlJMWlJIFsgMCBdIFsgMTMgXSApCiAgIGlmIG8wMDAwTzAwb29vMG8gPT0gJ3l0JyA6CiAgICBPb29vb29vID0gaXRoaWwgLiBpMTExICggSWkxaUkxaTFpSTFpSSBbIDAgXSBbIDEzIF0gKQogICAgZm9yIE9vIGluIHhyYW5nZSAoIDAgLCBsZW4gKCBPb29vb29vICkgKSA6CiAgICAgaWYgbGVuICggT29vb29vbyApIDw9IDEgOgogICAgICBJaTFpSWkxSWkxID0gJycKICAgICBlbHNlIDoKICAgICAgSWkxaUlpMUlpMSA9ICIgKCIgKyBzdHIgKCBPbyArIDEgKSArICIpIgogICAgIE9PTzBPT29vbzBvT28gPSAnW0NPTE9SIGdvbGRdTGlzdGEgZGUgQ2Fww610dWxvcyAlcyBbL0NPTE9SXScgJSBJaTFpSWkxSWkxCiAgICAgb29Pb08wTzAgPSBpSWlJMWlpSUkxSWkgKCBub21icmUgPSBPT08wT09vb28wb09vICwgY2FyYXR1bGEgPSBJaTFpSTFpMWlJMWlJIFsgMCBdIFsgNiBdICwKIHBvc3RlciA9IElpMWlJMWkxaUkxaUkgWyAwIF0gWyA3IF0gLAogdmlkZW8gPSB7ICd0aXRsZScgOiBJaTFpSTFpMWlJMWlJIFsgMCBdIFsgMyBdICwgJ3llYXInIDogSWkxaUkxaTFpSTFpSSBbIDAgXSBbIDQgXSAsICdwbG90JyA6IElpMWlJMWkxaUkxaUkgWyAwIF0gWyA1IF0gfSApCiAgICAgb29Pb08wTzAgLiBhZGRDb250ZXh0TWVudUl0ZW1zICggWyBvT29PT28gKCBpZCA9ICclcy12JyAlIHN0ciAoIHNlcmllX2lkICkgLCB0eXBlID0gbzAwICwgbm9tYnJlID0gT09PME9Pb29vMG9PbyAsCiB1cmwgPSBPb29vb29vIFsgT28gXSAsIGNhcmF0dWxhID0gSWkxaUkxaTFpSTFpSSBbIDAgXSBbIDYgXSAsCiBwb3N0ZXIgPSBJaTFpSTFpMWlJMWlJIFsgMCBdIFsgNyBdICkgXSApCiAgICAgSWlpaUlpaUlJSSAuIGFwcGVuZCAoICggT29vb29vbyBbIE9vIF0gLCBvb09vTzBPMCAsIFRydWUgKSApCiAgIGVsc2UgOgogICAgT09PME9Pb29vMG9PbyA9ICdbQ09MT1IgZ29sZF1MaXN0YSBkZSBDYXDDrXR1bG9zIFsvQ09MT1JdJwogICAgb29Pb08wTzAgPSBpSWlJMWlpSUkxSWkgKCBub21icmUgPSBPT08wT09vb28wb09vICwgY2FyYXR1bGEgPSBJaTFpSTFpMWlJMWlJIFsgMCBdIFsgNiBdICwKIHBvc3RlciA9IElpMWlJMWkxaUkxaUkgWyAwIF0gWyA3IF0gLAogdmlkZW8gPSB7ICd0aXRsZScgOiBJaTFpSTFpMWlJMWlJIFsgMCBdIFsgMyBdICwgJ3llYXInIDogSWkxaUkxaTFpSTFpSSBbIDAgXSBbIDQgXSAsCiAncGxvdCcgOiAnVG9kb3MgbG9zIGVwaXNvZGlvcyBkZSBsYSBzZXJpZScgfSApCiAgICBvb0lJSUkgPSAnezB9P3sxfT12aWV3X3NlcmllJnNlcmllX2lkPXsyfScgLiBmb3JtYXQgKCBvMDBJMTFJaWkxMWkxSWkxICwgbzBPMG9PMCAsIHNlcmllX2lkICkKICAgIG9vT29PME8wIC4gYWRkQ29udGV4dE1lbnVJdGVtcyAoIFsgb09vT09vICggaWQgPSAnJXMtdicgJSBzdHIgKCBzZXJpZV9pZCApICwgdHlwZSA9IG8wMCAsIG5vbWJyZSA9IE9PTzBPT29vbzBvT28gLCB1cmwgPSBvb0lJSUkgLAogY2FyYXR1bGEgPSBJaTFpSTFpMWlJMWlJIFsgMCBdIFsgNiBdICwgcG9zdGVyID0gSWkxaUkxaTFpSTFpSSBbIDAgXSBbIDcgXSApIF0gKQogICAgaWYgNDUgLSA0NTogSWkgLSBpaUlJaTFpMUlpaSAuIG9PTyAuIElpSUkxSWlJIC8gb29vT29PICogaWlJSWkxaTFJaWkKICAgIGlmIDQyIC0gNDI6IG9PTyAlIEkxCiAgICBpZiA3MCAtIDcwOiBJMSAvIElpSUkxaTFJICogSWkxSQogICAgSWlpaUlpaUlJSSAuIGFwcGVuZCAoICggb29JSUlJICwgb29Pb08wTzAgLCBUcnVlICkgKQogZm9yIGlJaUlJaUkxaUlJSWkgaW4gSWkxaUkxaTFpSTFpSSA6CiAgSWlJMWlJID0gRmFsc2UKICBpaTFJaSA9IGlJaUlJaUkxaUlJSWkgWyAwIF0KICBPTzBPME8wTzBPbzAgPSBpSWlJSWlJMWlJSUlpIFsgMSBdCiAgaWYgMTAwIC0gMTAwOiBvbyAqIElpSUkxSWlJICUgSTEgKyBPT08gLiBvMDBvTzBvbzBPME8wCiAgaWYgaUlpSUlpSTFpSUlJaSBbIDEyIF0gOgogICBPME9vT08gPSBpSWlJSWlJMWlJSUlpIFsgMTIgXQogIGVsc2UgOgogICBPME9vT08gPSAnJXMgJXMnICUgKCAnVGVtcG9yYWRhJyAsIE9PME8wTzBPME9vMCApCiAgTzAgPSBJMWlpaTEgKCBpSWlJSWlJMWlJSUlpIFsgNSBdICwgaUlpSUlpSTFpSUlJaSBbIDYgXSAsIGlJaUlJaUkxaUlJSWkgWyA3IF0gLCBpSWlJSWlJMWlJSUlpIFsgOCBdICwgaUlpSUlpSTFpSUlJaSBbIDkgXSAsIGlJaUlJaUkxaUlJSWkgWyAxMCBdICkKICBpZiBpSWlJSWlJMWlJSUlpIFsgMiBdIDoKICAgaUlpMTFJSTExID0gVHJ1ZQogICBJaUkxaUkgPSBUcnVlCiAgIG8wMDAwTzAwb29vMG8gPSBpdGhpbCAuIGlpMTFpICggaUlpSUlpSTFpSUlJaSBbIDIgXSApCiAgIGlmIG8wMDAwTzAwb29vMG8gPT0gJ3l0JyA6CiAgICBPb29vb29vID0gaXRoaWwgLiBpMTExICggaUlpSUlpSTFpSUlJaSBbIDIgXSApCiAgICBmb3IgT28gaW4geHJhbmdlICggMCAsIGxlbiAoIE9vb29vb28gKSApIDoKICAgICBpZiBsZW4gKCBPb29vb29vICkgPD0gMSA6CiAgICAgIElpMWlJaTFJaTEgPSAnJwogICAgIGVsc2UgOgogICAgICBJaTFpSWkxSWkxID0gIiAoIiArIHN0ciAoIE9vICsgMSApICsgIikiCiAgICAgT09PME9Pb29vMG9PbyA9ICdbQ09MT1IgZ29sZF0lc1svQ09MT1JdJyAlICggTzBPb09PICsgSWkxaUlpMUlpMSApCiAgICAgb29Pb08wTzAgPSBpSWlJMWlpSUkxSWkgKCBub21icmUgPSBPT08wT09vb28wb09vICwgY2FyYXR1bGEgPSBPMCBbIDEgXSAsCiBwb3N0ZXIgPSBPMCBbIDIgXSAsCiB2aWRlbyA9IHsgJ3RpdGxlJyA6IGlJaUlJaUkxaUlJSWkgWyAzIF0gLCAneWVhcicgOiBpSWlJSWlJMWlJSUlpIFsgNCBdICwgJ3Bsb3QnIDogTzAgWyAwIF0gfSApCiAgICAgb29Pb08wTzAgLiBhZGRDb250ZXh0TWVudUl0ZW1zICggWyBvT29PT28gKCBpZCA9ICclcyVzLXYnICUgKCBzdHIgKCBpaTFJaSApICwgc3RyICggT08wTzBPME8wT28wICkgKSAsIHR5cGUgPSBvMDAgLCBub21icmUgPSBPT08wT09vb28wb09vICwKIHVybCA9IE9vb29vb28gWyBPbyBdICwgY2FyYXR1bGEgPSBPMCBbIDEgXSAsIHBvc3RlciA9IE8wIFsgMiBdICkgXSApCiAgICAgSWlpaUlpaUlJSSAuIGFwcGVuZCAoICggT29vb29vbyBbIE9vIF0gLCBvb09vTzBPMCAsIFRydWUgKSApCiAgIGVsc2UgOgogICAgT09PME9Pb29vMG9PbyA9ICdbQ09MT1IgZ29sZF0lc1svQ09MT1JdJyAlIE8wT29PTwogICAgb29Pb08wTzAgPSBpSWlJMWlpSUkxSWkgKCBub21icmUgPSBPT08wT09vb28wb09vICwgY2FyYXR1bGEgPSBPMCBbIDEgXSAsCiBwb3N0ZXIgPSBPMCBbIDIgXSAsCiB2aWRlbyA9IHsgJ3RpdGxlJyA6IGlJaUlJaUkxaUlJSWkgWyAzIF0gLCAneWVhcicgOiBpSWlJSWlJMWlJSUlpIFsgNCBdICwgJ3Bsb3QnIDogTzAgWyAwIF0gfSApCiAgICBvb0lJSUkgPSAnezB9P3sxfT12aWV3X3RlbXAmc2VyaWVfaWQ9ezJ9JnRlbXBfaWQ9ezN9JyAuIGZvcm1hdCAoIG8wMEkxMUlpaTExaTFJaTEgLCBvME8wb08wICwgaWkxSWkgLCBPTzBPME8wTzBPbzAgKQogICAgb29Pb08wTzAgLiBhZGRDb250ZXh0TWVudUl0ZW1zICggWyBvT29PT28gKCBpZCA9ICclcyVzLXYnICUgKCBzdHIgKCBpaTFJaSApICwgc3RyICggT08wTzBPME8wT28wICkgKSAsIHR5cGUgPSBvMDAgLCBub21icmUgPSBPT08wT09vb28wb09vICwKIHVybCA9IG9vSUlJSSAsIGNhcmF0dWxhID0gTzAgWyAxIF0gLCBwb3N0ZXIgPSBPMCBbIDIgXSApIF0gKQogICAgaWYgMzYgLSAzNjogaWkxSTFpaTFJaUlpMSAvIElpSUkxSWlJCiAgICBpZiA0NyAtIDQ3OiBPT29Pb08wbzBvME9PIC0gSWlJSTFpMUkgLiBJaSAtIE9Pb09vTzBvMG8wT08gLiBJSW9vb08wb29PMG9vICsgSUlJSQogICAgaWYgMzUgLSAzNTogSWkgKiBJSW9vb08wb29PMG9vICUgb29vT29PIC4gb29vT29PCiAgICBJaWlpSWlpSUlJIC4gYXBwZW5kICggKCBvb0lJSUkgLCBvb09vTzBPMCAsIGlJaTExSUkxMSApICkKICBpZiBpSWlJSWlJMWlJSUlpIFsgMTEgXSA9PSAnWScgOgogICBPT08wT09vb28wb09vID0gJ1tDT0xPUiBnb2xkXSVzIFsvQ09MT1JdJyAlIE8wT29PTwogICBpZiBpSWlJSWlJMWlJSUlpIFsgMiBdIDoKICAgIE9PTzBPT29vbzBvT28gPSAnJXMgW0NPTE9SIHdoaXRlXShBbHRlcm5hdGl2bylbL0NPTE9SXScgJSAoIE9PTzBPT29vbzBvT28gKQogICBvb09vTzBPMCA9IGlJaUkxaWlJSTFJaSAoIG5vbWJyZSA9IE9PTzBPT29vbzBvT28gLCBjYXJhdHVsYSA9IE8wIFsgMSBdICwKIHBvc3RlciA9IE8wIFsgMiBdICwKIHZpZGVvID0geyAndGl0bGUnIDogaUlpSUlpSTFpSUlJaSBbIDMgXSAsICd5ZWFyJyA6IGlJaUlJaUkxaUlJSWkgWyA0IF0gLCAncGxvdCcgOiBPMCBbIDAgXSB9ICkKICAgb29JSUlJID0gJ3swfT97MX09bGlzdF90ZW1wJnNlcmllX2lkPXsyfSZ0ZW1wX2lkPXszfSZjYXJhdHVsYT17NH0mcG9zdGVyPXs1fScgLiBmb3JtYXQgKCBvMDBJMTFJaWkxMWkxSWkxICwgbzBPMG9PMCAsIGlpMUlpICwgT08wTzBPME8wT28wICwKIE8wIFsgMSBdICwgTzAgWyAyIF0gKQogICBvb09vTzBPMCAuIGFkZENvbnRleHRNZW51SXRlbXMgKCBbIG9Pb09PbyAoIGlkID0gJyVzJXMnICUgKCBzdHIgKCBpaTFJaSApICwgc3RyICggT08wTzBPME8wT28wICkgKSAsIHR5cGUgPSBvMDAgLCBub21icmUgPSBPT08wT09vb28wb09vICwgdXJsID0gb29JSUlJICwKIGNhcmF0dWxhID0gTzAgWyAxIF0gLCBwb3N0ZXIgPSBPMCBbIDIgXSApIF0gKQogICBpZiAzMCAtIDMwOiBJSUlJIC4gSWlJSTFpMUkgKiBJSUlJIC0gSWkxSSAvIE9Pb09vTzBvMG8wT08gKiBpSWkxMQogICBpZiAzMCAtIDMwOiBvb29Pb08KICAgaWYgNzUgLSA3NTogT09vT29PMG8wbzBPTyAlIG9vb09vTyAuIG9PTwogICBpZiAxMyAtIDEzOiBpaTFJMWlpMUlpSWkxICsgaUlpMTEgJSBvbwogICBpSWkxMUlJMTEgPSBUcnVlCiAgIElpSTFpSSA9IFRydWUKICAgSWlpaUlpaUlJSSAuIGFwcGVuZCAoICggb29JSUlJICwgb29Pb08wTzAgLCBpSWkxMUlJMTEgKSApCiB0cnkgOgogIHhibWNwbHVnaW4gLiBzZXRDb250ZW50ICggaWlJSSAsICJ0dnNob3dzIiApCiAgeGJtYyAuIGV4ZWN1dGVidWlsdGluICggIkNvbnRhaW5lci5TZXRWaWV3TW9kZSg1MTUpIiApCiBleGNlcHQgOgogIHBhc3MKIGlmIElpSTFpSSA6CiAgeGJtY3BsdWdpbiAuIGFkZERpcmVjdG9yeUl0ZW1zICggaWlJSSAsIElpaWlJaWlJSUkgLCBsZW4gKCBJaWlpSWlpSUlJICkgKQogIHhibWNwbHVnaW4gLiBlbmRPZkRpcmVjdG9yeSAoIGlpSUkgKQogZWxzZSA6CiAgeGJtYyAuIGxvZyAoICJbYWRkb24uUGFsYW50aXItJXNdOiBObyBpbmZvIGZvdW5kIGZvciBzZXJpZSAlcyAiICUgKCBpaUlJaWlpSTExICwgc2VyaWVfaWQgKSApCiAgaWYgMTQgLSAxNDogaUlpMTEgKyBPT29Pb08wbzBvME9PIC0gb28gLSBvMDBvTzBvbzBPME8wCiAgaWYgNzcgLSA3NzogaUlpMTEgJSBJSW9vb08wb29PMG9vICogSTFJaUkxSUlJMTFpICogSUlJSSAtIElJIC0gT09vT29PMG8wbzBPTwogIGlmIDk2IC0gOTY6IG8wMG9PMG9vME8wTzAgLyBvT08gKiBvb29Pb08gLSBJaQpkZWYgSUlJMTExMWkxMUlJICggc2VyaWVfaWQgLCB0ZW1wX2lkICwgY2FyYXR1bGEgLCBwb3N0ZXIgKSA6CiBJaTFpSTFpMWlJMWlJID0gSWlJMTFJaUkxaUkxMSAoICJjYXBpdHVsb3MiICwgWyAic2VyaWVfaWQiICwgInRlbXBfaWQiICwgImNhcGl0dWxvX2lkIiAsICInJyIgLCAiJyciICwgIicnIiAsICJsaW5rIiAsICJxdWFsaXR5IiAsCiAibm9tYnJlIiAsICJhbm5vIiAsICJzaW5vcHNpcyIgLCAiY2FyYXR1bGEiICwgInBvc3RlciIgXSAsIFsgInNlcmllX2lkIiAsICJ0ZW1wX2lkIiBdICwKIFsgc2VyaWVfaWQgLCB0ZW1wX2lkIF0gLCBbICdjYXBpdHVsb3Mubm9tYnJlJyAsICdjYXBpdHVsb3MuY2FwaXR1bG9faWQnIF0gKQogT28wMDBvb08wT08gKCBJaTFpSTFpMWlJMWlJICwgbzAwICwgY2FyYXR1bGEgLCBwb3N0ZXIgKQogaWYgMjQgLSAyNDogSUkgLiBJaTFJCiBpZiA3IC0gNzogSWlJSTFpMUkgLyBvbwogaWYgNiAtIDY6IEkxIC8gT09vT29PMG8wbzBPTyAlIEkxSWlJMUlJSTExaSAvIG9vCmRlZiBvTzBvICggc2VyaWVfaWQgLCB0ZW1wX2lkICkgOgogaWlJaWlpMSA9IHNxbGl0ZTMgLiBjb25uZWN0ICggaWlJICkKIE9vMG9vTzAwID0gaWlJaWlpMSAuIGN1cnNvciAoICkKIE9vMG9vTzAwIC4gZXhlY3V0ZSAoCiAiU0VMRUNUIHNlcmllcy5zZXJpZV9pZCwgc2VyaWVzX3RlbXAudGVtcF9pZCwgJycsICcnLCAnJywgJycsIHNlcmllc190ZW1wLmxpbmssIHNlcmllc190ZW1wLnF1YWxpdHksIHNlcmllcy5ub21icmUsIHNlcmllc190ZW1wLmFubm8sIHNlcmllcy5zaW5vcHNpcywgc2VyaWVzLmNhcmF0dWxhLCBzZXJpZXMucG9zdGVyLCBzZXJpZXNfdGVtcC5zaW5vcHNpcywgc2VyaWVzX3RlbXAuY2FyYXR1bGEsIHNlcmllc190ZW1wLnBvc3RlciBGUk9NIHNlcmllcyBJTk5FUiBKT0lOIHNlcmllc190ZW1wIE9OIHNlcmllcy5zZXJpZV9pZD1zZXJpZXNfdGVtcC5zZXJpZV9pZCB3aGVyZSBzZXJpZXNfdGVtcC5zZXJpZV9pZD0/IEFORCBzZXJpZXNfdGVtcC50ZW1wX2lkPT8iICwKICggc2VyaWVfaWQgLCB0ZW1wX2lkICwgKSApCiBJaTFpSTFpMWlJMWlJID0gT28wb29PMDAgLiBmZXRjaGFsbCAoICkKIGlpSWlpaTEgLiBjbG9zZSAoICkKIE8wID0gSTFpaWkxICggSWkxaUkxaTFpSTFpSSBbIDAgXSBbIDEwIF0gLCBJaTFpSTFpMWlJMWlJIFsgMCBdIFsgMTEgXSAsIElpMWlJMWkxaUkxaUkgWyAwIF0gWyAxMiBdICwgSWkxaUkxaTFpSTFpSSBbIDAgXSBbIDEzIF0gLCBJaTFpSTFpMWlJMWlJIFsgMCBdIFsgMTQgXSAsIElpMWlJMWkxaUkxaUkgWyAwIF0gWyAxNSBdICkKIGlJID0gaXRoaWwgLiBpaWlJICggSWkxaUkxaTFpSTFpSSBbIDAgXSBbIDYgXSAsIGlpSSAsIHNlcmllX2lkICwgdGVtcF9pZCApCiBJaUkxMUlpMWlpMTEgPSBbIE5vbmUgXSAqIGxlbiAoIGlJICkKIGZvciBPbyBpbiB4cmFuZ2UgKCAwICwgbGVuICggaUkgKSApIDoKICBJaUkxMUlpMWlpMTEgWyBPbyBdID0gbGlzdCAoIElpMWlJMWkxaUkxaUkgWyAwIF0gWyA6IGxlbiAoIElpMWlJMWkxaUkxaUkgWyAwIF0gKSAtIDMgXSApCiAgSWlJMTFJaTFpaTExIFsgT28gXSBbIDEwIF0gPSBPMCBbIDAgXQogIElpSTExSWkxaWkxMSBbIE9vIF0gWyAxMSBdID0gTzAgWyAxIF0KICBJaUkxMUlpMWlpMTEgWyBPbyBdIFsgMTIgXSA9IE8wIFsgMiBdCiAgSWlJMTFJaTFpaTExIFsgT28gXSBbIDYgXSA9IGlJIFsgT28gXSBbIDEgXQogIElpSTExSWkxaWkxMSBbIE9vIF0gWyA4IF0gPSBpSSBbIE9vIF0gWyAwIF0KICBJaUkxMUlpMWlpMTEgWyBPbyBdIFsgMTAgXSA9ICcnCiBPbzAwMG9vTzBPTyAoIElpSTExSWkxaWkxMSAsIG8wMCApCiBpZiA0NiAtIDQ2OiBpSWkxMSAtIElpMUkgLyBvMDBvTzBvbzBPME8wCiBpZiAzNSAtIDM1OiBPT08gJSBJaUlJMWkxSSAtIElpMUkgLiBvbyArIElpSUkxaTFJCiBpZiAyOCAtIDI4OiBvT08gKiBJaSAqIE9Pb09vTzBvMG8wT08gKyBvbyAuIGlpSUlpMWkxSWlpCmRlZiBpMTExSWlJSWlJSTEgKCBzZXJpZV9pZCApIDoKIElpMWlJMWkxaUkxaUkgPSBJaUkxMUlpSTFpSTExICggInNlcmllcyIgLAogWyAic2VyaWVfaWQiICwgIicnIiAsICInJyIgLCAiJyciICwgIicnIiAsICInJyIgLCAibGluayIgLCAicXVhbGl0eSIgLCAibm9tYnJlIiAsICJhbm5vIiAsICJzaW5vcHNpcyIgLAogImNhcmF0dWxhIiAsICJwb3N0ZXIiCiBdICwgWyAic2VyaWVfaWQiIF0gLCBbIHNlcmllX2lkIF0gLCBbICdzZXJpZV9pZCcgXSApCiBpZiAzNSAtIDM1OiBJaUlJMWkxSSAlIGkxaUkxIC8gb29Pb29PME9PTwogaWYgMTMgLSAxMzogb29Pb29PME9PTwogaUkgPSBpdGhpbCAuIGlpaUkgKCBJaTFpSTFpMWlJMWlJIFsgMCBdIFsgNiBdICwgaWlJICwgc2VyaWVfaWQgKQogSWlJMTFJaTFpaTExID0gWyBOb25lIF0gKiBsZW4gKCBpSSApCiBmb3IgT28gaW4geHJhbmdlICggMCAsIGxlbiAoIGlJICkgKSA6CiAgSWlJMTFJaTFpaTExIFsgT28gXSA9IGxpc3QgKCBJaTFpSTFpMWlJMWlJIFsgMCBdIFsgOiBdICkKICBJaUkxMUlpMWlpMTEgWyBPbyBdIFsgNiBdID0gaUkgWyBPbyBdIFsgMSBdCiAgSWlJMTFJaTFpaTExIFsgT28gXSBbIDggXSA9IGlJIFsgT28gXSBbIDAgXQogIElpSTExSWkxaWkxMSBbIE9vIF0gWyAxMCBdID0gJycKIE9vMDAwb29PME9PICggSWlJMTFJaTFpaTExICwgbzAwICkKIGlmIDcxIC0gNzE6IElpSUkxaTFJICsgaUlpMTEgJSBJaUlJMWkxSSAlIElJSUkgLyBPT08KIGlmIDE3IC0gMTc6IGlJaTExCiBpZiA2MyAtIDYzOiBpMWlJMQpkZWYgT29Pb09PT29vT29PICggKSA6CiBpaUlpaWkxID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBpaUkgKQogT28wb29PMDAgPSBpaUlpaWkxIC4gY3Vyc29yICggKQogT28wb29PMDAgLiBleGVjdXRlICggIlNlbGVjdCBhbm5vLGNvdW50KHBlbGlfaWQpIGZyb20gcGVsaXMgZ3JvdXAgYnkgYW5ubyBvcmRlciBieSBhbm5vIGRlc2MiICkKIElpMWlJMWkxaUkxaUkgPSBPbzBvb08wMCAuIGZldGNoYWxsICggKQogaWlJaWlpMSAuIGNsb3NlICggKQogSWlpaUlpaUlJSSA9IFsgXQogZm9yIGlJaUlJaUkxaUlJSWkgaW4gSWkxaUkxaTFpSTFpSSA6CiAgSTFJMTFpID0gaUlpSUlpSTFpSUlJaSBbIDAgXQogIElpaUkgPSBpSWlJSWlJMWlJSUlpIFsgMSBdCiAgT09PME9Pb29vMG9PbyA9ICdbQ09MT1IgZ29sZF0lc1svQ09MT1JdICglcyknICUgKCBJMUkxMWkgLCBJaWlJICkKICBvb09vTzBPMCA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGxhYmVsID0gT09PME9Pb29vMG9PbyAsIGljb25JbWFnZSA9ICcnICkKICBvb0lJSUkgPSAnezB9P2FjdGlvbj1hbnlvX2RldGFpbCZhbm5vPXsxfScgLiBmb3JtYXQgKCBvMDBJMTFJaWkxMWkxSWkxICwgSTFJMTFpICkKICBpSWkxMUlJMTEgPSBUcnVlCiAgSWlpaUlpaUlJSSAuIGFwcGVuZCAoICggb29JSUlJICwgb29Pb08wTzAgLCBpSWkxMUlJMTEgKSApCiB0cnkgOgogIHhibWNwbHVnaW4gLiBzZXRDb250ZW50ICggaWlJSSAsICJmaWxlcyIgKQogIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICJDb250YWluZXIuU2V0Vmlld01vZGUoNTAyKSIgKQogZXhjZXB0IDoKICBwYXNzCiB4Ym1jcGx1Z2luIC4gYWRkRGlyZWN0b3J5SXRlbXMgKCBpaUlJICwgSWlpaUlpaUlJSSAsIGxlbiAoIElpaWlJaWlJSUkgKSApCiB4Ym1jcGx1Z2luIC4gZW5kT2ZEaXJlY3RvcnkgKCBpaUlJICkKIGlmIDY3IC0gNjc6IElJIC8gT09PICUgSWkxSSAvIG9PTyAuIGkxaUkxICsgSUlJSQogaWYgMTcgLSAxNzogb28gLyBpSWkxMSAtIElpIC8gSTFJaUkxSUlJMTFpICogb28gLSBJMQpkZWYgaWlJSWlJSUlpICggKSA6CiBpaUlpaWkxID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBpaUkgKQogT28wb29PMDAgPSBpaUlpaWkxIC4gY3Vyc29yICggKQogaWYgODkgLSA4OTogaWlJSWkxaTFJaWkgKiBJSSAuIElpSUkxaTFJIC8gSUkKIE9vMG9vTzAwIC4gZXhlY3V0ZSAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2MyVnNaV04wSUhOaFoyRmZibUZ0WlNCbWNtOXRLRk5GVEVWRFZDQnpkV0p6ZEhJb2MyRm5ZU3dnY0c5ekt6RXBJRUZUSUhOaFoyRmZibUZ0WlNCR1VrOU5LRk5GVEVWRFZDQXFMR2x1YzNSeUtITmhaMkVzSnlNbktTQkJVeUJ3YjNNZ1JsSlBUU0J3Wld4cGN5QjNhR1Z5WlNCellXZGhJR2x6SUc1dmRDQnVkV3hzS1NCVlRrbFBUaUJUUlV4RlExUWdjM1ZpYzNSeUtITmhaMkVzSURFc0lIQnZjeTB4S1NCQlV5QnpZV2RoWDI1aGJXVWdSbEpQVFNoVFJVeEZRMVFnS2l4cGJuTjBjaWh6WVdkaExDY2pKeWtnUVZNZ2NHOXpJRVpTVDAwZ2NHVnNhWE1nZDJobGNtVWdjMkZuWVNCcGN5QnViM1FnYm5Wc2JDa3BJSGRvWlhKbElITmhaMkZmYm1GdFpTQThQaUFuSnlCdmNtUmxjaUJpZVNCellXZGhYMjVoYldVPScgKSApCiBJaTFpSTFpMWlJMWlJID0gT28wb29PMDAgLiBmZXRjaGFsbCAoICkKIGlpSWlpaTEgLiBjbG9zZSAoICkKIElpaWlJaWlJSUkgPSBbIF0KIGZvciBpSWlJSWlJMWlJSUlpIGluIElpMWlJMWkxaUkxaUkgOgogIG8wT29paWlJaWkxSWlJSSA9IGlJaUlJaUkxaUlJSWkgWyAwIF0KICB0cnkgOgogICBvME9vaWlpSWlpMUlpSUkgPSBvME9vaWlpSWlpMUlpSUkgLiBlbmNvZGUgKCAndXRmLTgnICwgJ2lnbm9yZScgKQogIGV4Y2VwdCAoIFVuaWNvZGVFbmNvZGVFcnJvciAsIFVuaWNvZGVEZWNvZGVFcnJvciApIDoKICAgcGFzcwogIE9PTzBPT29vbzBvT28gPSAnW0NPTE9SIGdvbGRdJXNbL0NPTE9SXScgJSBvME9vaWlpSWlpMUlpSUkKICBvb09vTzBPMCA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGxhYmVsID0gT09PME9Pb29vMG9PbyAsIGljb25JbWFnZSA9ICcnICkKICBvb0lJSUkgPSAnezB9P2FjdGlvbj1zYWdhX2RldGFpbCZzYWdhPXsxfScgLiBmb3JtYXQgKCBvMDBJMTFJaWkxMWkxSWkxICwgYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCBvME9vaWlpSWlpMUlpSUkgKSApCiAgaUlpMTFJSTExID0gVHJ1ZQogIElpaWlJaWlJSUkgLiBhcHBlbmQgKCAoIG9vSUlJSSAsIG9vT29PME8wICwgaUlpMTFJSTExICkgKQogdHJ5IDoKICB4Ym1jcGx1Z2luIC4gc2V0Q29udGVudCAoIGlpSUkgLCAiZmlsZXMiICkKICB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAiQ29udGFpbmVyLlNldFZpZXdNb2RlKDUwMikiICkKIGV4Y2VwdCA6CiAgcGFzcwogeGJtY3BsdWdpbiAuIGFkZERpcmVjdG9yeUl0ZW1zICggaWlJSSAsIElpaWlJaWlJSUkgLCBsZW4gKCBJaWlpSWlpSUlJICkgKQogeGJtY3BsdWdpbiAuIGVuZE9mRGlyZWN0b3J5ICggaWlJSSApCiBpZiA4MyAtIDgzOiBPT08KIGlmIDQ5IC0gNDk6IG9PTyArIGlpSUlpMWkxSWlpICogSTFJaUkxSUlJMTFpICsgT09vT29PMG8wbzBPTwpkZWYgTzBPb28wMDBvICggc2FnYSAsIHBhcmFtcyApIDoKIElpMWlJMWkxaUkxaUkgPSBvT29PMG9vMDAwT08gKCAicGVsaXMiICwKIFsgInBlbGlfaWQiICwgIicnIiAsICInJyIgLCAiaGQiICwgIicnIiAsICInJyIgLCAibGluayIgLCAicXVhbGl0eSIgLCAibm9tYnJlIiAsICJhbm5vIiAsICJzaW5vcHNpcyIgLAogImNhcmF0dWxhIiAsICJwb3N0ZXIiCiBdICwgWyAic2FnYSIgXSAsIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggc2FnYSApIC4gZGVjb2RlICggJ3V0Zi04JyApICwgWyAnbm9tYnJlJyBdICkKIE9vMDAwb29PME9PICggSWkxaUkxaTFpSTFpSSAsICdwZWxpcycgKQogaWYgNzkgLSA3OTogbzAwb08wb28wTzBPMApkZWYgSTFpSTFJMWkgKCBhbm5vICwgcGFyYW1zICkgOgogSWkxaUkxaTFpSTFpSSA9IElpSTExSWlJMWlJMTEgKCAicGVsaXMiICwKIFsgInBlbGlfaWQiICwgIicnIiAsICInJyIgLCAiaGQiICwgIicnIiAsICInJyIgLCAibGluayIgLCAicXVhbGl0eSIgLCAibm9tYnJlIiAsICJhbm5vIiAsICJzaW5vcHNpcyIgLAogImNhcmF0dWxhIiAsICJwb3N0ZXIiCiBdICwgWyAiYW5ubyIgXSAsIFsgYW5ubyBdICwgWyAnbm9tYnJlJyBdICkKIE9vMDAwb29PME9PICggSWkxaUkxaTFpSTFpSSAsICdwZWxpcycgKQogaWYgNjcgLSA2NzogT09vT29PMG8wbzBPTwpkZWYgbzAgKCBjYXRlZ29yeSAsIG9yZGVyICwgcGFyYW1zID0gJycgKSA6CiBJaTFpSTFpMWlJMWlJID0gSWlJMTFJaUkxaUkxMSAoICJwZWxpcyIgLAogWyAicGVsaV9pZCIgLCAiJyciICwgIicnIiAsICJoZCIgLCAiJyciICwgIicnIiAsICJsaW5rIiAsICJxdWFsaXR5IiAsICJub21icmUiICwgImFubm8iICwgInNpbm9wc2lzIiAsCiAiY2FyYXR1bGEiICwgInBvc3RlciIKIF0gLCBbICJjYXRlZ29yeSIgXSAsIGNhdGVnb3J5ICwgb3JkZXIgLCBwYXJhbXMgKQogT28wMDBvb08wT08gKCBJaTFpSTFpMWlJMWlJICwgJ3BlbGlzJyApCiBpZiAyNSAtIDI1OiBvT08gKiBvMDBvTzBvbzBPME8wICUgb28gJSBpMWlJMSAuIElJSUkKZGVmIG9Pb08wb28wMDBPTyAoIHRhYmxlICwgdmFsdWVzICwgaWQgLCBpZF92YWx1ZSAsIG9yZGVyICwgcGFyYW1zID0gJycgKSA6CiBPT29PME9Pb09vbyA9IHNxbGl0ZTMgLiBjb25uZWN0ICggaWlJICkKIE9vMG9vTzAwID0gT09vTzBPT29Pb28gLiBjdXJzb3IgKCApCiBPbzBvb08wMCAuIGV4ZWN1dGUgKCAiU0VMRUNUICIgKyAiLCIgLiBqb2luICggdmFsdWVzICkgKyAiLCIgKyAiLCIgLiBqb2luICggaWQgKSArICIgRlJPTSAiICsgdGFibGUgKyAiIFdIRVJFIHNhZ2EgbGlrZSAnIiArIGlkX3ZhbHVlICsgIicgb3Igc2FnYSBsaWtlICciICsgaWRfdmFsdWUgKyAiIyUnIG9yIHNhZ2EgbGlrZSAnJSMiICsgaWRfdmFsdWUgKyAiJyBvcmRlciBieSAiICsgIiwiIC4gam9pbiAoIG9yZGVyICkgKyBwYXJhbXMgKQogSWkxaUkxaTFpSTFpSSA9IE9vMG9vTzAwIC4gZmV0Y2hhbGwgKCApCiBPT29PME9Pb09vbyAuIGNsb3NlICggKQogcmV0dXJuIElpMWlJMWkxaUkxaUkKIGlmIDcyIC0gNzI6IElpMUkgKiBvb29Pb08KZGVmIElpSTExSWlJMWlJMTEgKCB0YWJsZSAsIHZhbHVlcyAsIGlkcyAsIGlkc192YWx1ZSAsIG9yZGVyICwgcGFyYW1zID0gJycgKSA6CiBPT29PME9Pb09vbyA9IHNxbGl0ZTMgLiBjb25uZWN0ICggaWlJICkKIE9vMG9vTzAwID0gT09vTzBPT29Pb28gLiBjdXJzb3IgKCApCiBPbzBvb08wMCAuIGV4ZWN1dGUgKCAiU0VMRUNUICIgKyAiLCIgLiBqb2luICggdmFsdWVzICkgKyAiLCIgKyAiLCIgLiBqb2luICggaWRzICkgKyAiIEZST00gIiArIHRhYmxlICsgIiBXSEVSRSAiICsgKAogIiA9ID8gYW5kICIgLiBqb2luICggaWRzICkgKyAiPT8iICkgKyAib3JkZXIgYnkgIiArICIsIiAuIGpvaW4gKCBvcmRlciApICsgcGFyYW1zICwgaWRzX3ZhbHVlICkKIElpMWlJMWkxaUkxaUkgPSBPbzBvb08wMCAuIGZldGNoYWxsICggKQogT09vTzBPT29Pb28gLiBjbG9zZSAoICkKIHJldHVybiBJaTFpSTFpMWlJMWlJCiBpZiA3NCAtIDc0OiBPT29Pb08wbzBvME9PIC8gSWkgLiBJaSAqIGlJaTExCmRlZiBpaTEgKCBsaW4gLCB0aXQgLCBpZCAsIHR5cGUgKSA6CiBpdGhpbCAuIElpaUkxSTFJMWlJaUkgKCBsaW4gLCB0aXQgLCBpaUkgLCBpZCAsIHR5cGUgKQogaWYgNSAtIDU6IElJSUkKIGlmIDM4IC0gMzg6IElpIC4gSWlJSTFJaUkgKiBJSW9vb08wb29PMG9vCmRlZiBJSUlJMUkxSUlJaUkgKCBwYXJhbXN0cmluZyApIDoKIElJaTExSUkgPSBkaWN0ICggcGFyc2VfcXNsICggcGFyYW1zdHJpbmcgKSApCiBpZiBJSWkxMUlJIDoKICBpZiBJSWkxMUlJIFsgbzBPMG9PMCBdID09IG8wMCA6CiAgIElJSUlvbyAoICc9PScgLCAnZ2VuZXJhbCcgLCBJSWkxMUlJICkKICBlbGlmIElJaTExSUkgWyBvME8wb08wIF0gPT0gJ3Nlcmllc0luZicgOgogICBJSUlJb28gKCAnPT0nICwgJ2luZmFudGlsJyAsIElJaTExSUkgKQogIGVsaWYgSUlpMTFJSSBbIG8wTzBvTzAgXSA9PSAncmV0cm8nIDoKICAgSUlJSW9vICggJz09JyAsICdyZXRybycgLCBJSWkxMUlJICkKICBlbGlmIElJaTExSUkgWyBvME8wb08wIF0gPT0gJ3NlYXJjaFNlcmllJyA6CiAgIGlpSUlpSWkxMUlJMSAoIG8wTzBvICwgJ3NlcmllcycgKQogIGVsaWYgSUlpMTFJSSBbIG8wTzBvTzAgXSA9PSAnc2VhcmNoUGVsaScgOgogICBpaUlJaUlpMTFJSTEgKCBJMUkxaSAsICdwZWxpcycgKQogIGVsaWYgSUlpMTFJSSBbIG8wTzBvTzAgXSA9PSAnc2VyaWVzQnlMYW5nJyA6CiAgIGlmICdsYW5nJyBpbiBJSWkxMUlJIDoKICAgIElJaUkxMSAoIElJaTExSUkgWyAnbGFuZycgXSApCiAgIGVsc2UgOgogICAgSUlpSTExICggKQogIGVsaWYgSUlpMTFJSSBbIG8wTzBvTzAgXSA9PSAnc2VyaWVzQnlBWicgOgogICBpZiAnbGV0cmEnIGluIElJaTExSUkgOgogICAgSTExMTFJaTFJICggSUlpMTFJSSBbICdsZXRyYScgXSAsICdzZXJpZScgKQogICBlbHNlIDoKICAgIEkxMTExSWkxSSAoIHR5cGUgPSAnc2VyaWUnICkKICBlbGlmIElJaTExSUkgWyBvME8wb08wIF0gPT0gJ21hc3Zpc3RvJyA6CiAgIE9vb08wT09vMCAoICkKICBlbGlmIElJaTExSUkgWyBvME8wb08wIF0gPT0gJ3VsdGltYXNfc2VyaWVzJyA6CiAgIG8wT28wb28wMCAoIG8wTzBvICwgJ3NlcmllcycgKQogIGVsaWYgSUlpMTFJSSBbIG8wTzBvTzAgXSA9PSAndWx0aW1hc19wZWxpcycgOgogICBvMCAoIFsgJ1BlbGljdWxhJyBdICwgWyAndXBkYXRlZCBkZXNjJyAsICdhbm5vIGRlc2MnIF0gLCAnIGxpbWl0IDIwMCcgKQogIGVsaWYgSUlpMTFJSSBbIG8wTzBvTzAgXSA9PSAnc2VyaWUnIDoKICAgb08wME8wT28gKCBJSWkxMUlJIFsgJ3NlcmllX2lkJyBdICkKICBlbGlmIElJaTExSUkgWyBvME8wb08wIF0gPT0gJ2FkZGZhdicgOgogICBJMTFJSWlpMUkgKCBJSWkxMUlJICkKICBlbGlmIElJaTExSUkgWyBvME8wb08wIF0gPT0gJ3JtZmF2JyA6CiAgIGlpaTFpSUlJMTExMUkgKCBJSWkxMUlJICkKICBlbGlmIElJaTExSUkgWyBvME8wb08wIF0gPT0gJ2xpc3RmYXYnIDoKICAgTzBPMDBPME8gKCApCiAgZWxpZiBJSWkxMUlJIFsgbzBPMG9PMCBdID09ICd0b191bndhdGNoJyA6CiAgIElpSSAoIElJaTExSUkgWyAnaWRGaWxlJyBdICwgSUlpMTFJSSBbICdpZFBhdGgnIF0gLCBJSWkxMUlJIFsgJ2ZpbGVOYW1lJyBdICwgRmFsc2UgKQogIGVsaWYgSUlpMTFJSSBbIG8wTzBvTzAgXSA9PSAndG9fd2F0Y2gnIDoKICAgSWlJICggSUlpMTFJSSBbICdpZEZpbGUnIF0gLCBJSWkxMUlJIFsgJ2lkUGF0aCcgXSAsIElJaTExSUkgWyAnZmlsZU5hbWUnIF0gLCBUcnVlICkKICBlbGlmIElJaTExSUkgWyBvME8wb08wIF0gPT0gJ3ZpZXdfc2VyaWUnIDoKICAgaTExMUlpSUlpSUkxICggSUlpMTFJSSBbICdzZXJpZV9pZCcgXSApCiAgZWxpZiBJSWkxMUlJIFsgbzBPMG9PMCBdID09ICd2aWV3X3RlbXAnIDoKICAgb08wbyAoIElJaTExSUkgWyAnc2VyaWVfaWQnIF0gLCBJSWkxMUlJIFsgJ3RlbXBfaWQnIF0gKQogIGVsaWYgSUlpMTFJSSBbIG8wTzBvTzAgXSA9PSAnbGlzdF90ZW1wJyA6CiAgIElJSTExMTFpMTFJSSAoIElJaTExSUkgWyAnc2VyaWVfaWQnIF0gLCBJSWkxMUlJIFsgJ3RlbXBfaWQnIF0gLCBJSWkxMUlJIFsgJ2NhcmF0dWxhJyBdICwgSUlpMTFJSSBbICdwb3N0ZXInIF0gKQogIGVsaWYgSUlpMTFJSSBbIG8wTzBvTzAgXSA9PSAncGxheScgOgogICBpaTEgKCBJSWkxMUlJIFsgJ2xpbicgXSAsIElJaTExSUkgWyAndGl0JyBdICwgSUlpMTFJSSBbICdpZCcgXSAsIElJaTExSUkgWyAndHlwZScgXSApCiAgZWxpZiBJSWkxMUlJIFsgJ2FjdGlvbicgXSA9PSAnYW55bycgOgogICBPb09vT09Pb29Pb08gKCApCiAgZWxpZiBJSWkxMUlJIFsgJ2FjdGlvbicgXSA9PSAnYW55b19kZXRhaWwnIDoKICAgSTFpSTFJMWkgKCBJSWkxMUlJIFsgJ2Fubm8nIF0gLCBJSWkxMUlJICkKICBlbGlmIElJaTExSUkgWyAnYWN0aW9uJyBdID09ICdzYWdhcycgOgogICBpaUlJaUlJSWkgKCApCiAgZWxpZiBJSWkxMUlJIFsgJ2FjdGlvbicgXSA9PSAnc2FnYV9kZXRhaWwnIDoKICAgTzBPb28wMDBvICggSUlpMTFJSSBbICdzYWdhJyBdICwgSUlpMTFJSSApCiAgZWxpZiBJSWkxMUlJIFsgbzBPMG9PMCBdID09ICdwZWxpX2luZicgOgogICBvMCAoIFsgJ0RpYnVqb3MnIF0gLCBbICdub21icmUnIF0gKQogIGVsaWYgSUlpMTFJSSBbIG8wTzBvTzAgXSA9PSAncGVsaXNCeUFaJyA6CiAgIGlmICdsZXRyYScgaW4gSUlpMTFJSSA6CiAgICBJMTExMUlpMUkgKCBJSWkxMUlJIFsgJ2xldHJhJyBdICwgJ3BlbGknICkKICAgZWxzZSA6CiAgICBJMTExMUlpMUkgKCB0eXBlID0gJ3BlbGknICkKICBlbGlmIElJaTExSUkgWyBvME8wb08wIF0gPT0gJ2xhc3RfcGVsaV9pbmYnIDoKICAgbzAgKCBbICdEaWJ1am9zJyBdICwgWyAndXBkYXRlZCBkZXNjJyAsICdhbm5vIGRlc2MnIF0gLCAnIGxpbWl0IDIwMCcgKQogZWxzZSA6CiAgSWlvb29JSWlJSUlJaWlJaUkgKCApCiAgaWYgMTAgLSAxMDogSUkgJSBJSUlJCiAgaWYgMTQgLSAxNDogaTFpSTEgKyBvb29Pb08gLyBvb09vb08wT09PCmlmIF9fbmFtZV9fID09ICdfX21haW5fXycgOgogSUlJSTFJMUlJSWlJICggc3lzIC4gYXJndiBbIDIgXSBbIDEgOiBdICkKIGlmIDMzIC0gMzM6IGlJaTExICogSTEgLSBvMDBvTzBvbzBPME8wCiBpZiAzOSAtIDM5OiBJMSAlIEkxIC4gSWlJSTFpMUkgJSBpaUlJaTFpMUlpaSAqIGlpSUlpMWkxSWlpICUgaWlJSWkxaTFJaWkKIGlmIDk5IC0gOTk6IE9Pb09vTzBvMG8wT08gLyBJaUlJMWkxSSAvIG8wMG9PMG9vME8wTzAKIGlmIDIgLSAyOiBvT08KIyA4MDdjYjFiZmZmYjIzNGRhY2UzZjkzMGY1NzFhOTAzOWQ3NmY0Y2Y5Cg==')